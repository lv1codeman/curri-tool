import{p as Rt,r as _,q as Nt,s as U,v as A,x as X,y as se,z as Mt,A as Xe,B as ge,C as fe,D as De,m as F,E as ie,F as B,b as h,G as be,n as J,H as Je,I as R,a as P,J as L,K as Oe,L as Fe,M as oe,N as Ye,O as Se,j as ee,P as te,Q as Ht,R as M,S as Ze,T as jt,U as Gt,V as ne,W as qe,X as ve,Y as ue,Z as Y,$ as Ee,a0 as Ut,d as $,a1 as ke,a2 as de,t as Q,a3 as Te,a4 as le,a5 as ae,a6 as Kt,a7 as Wt,a8 as zt,a9 as Qt,_ as Xt,h as Jt,f as Yt,c as Pe,o as Z,aa as ce,w as C,ab as Zt,ac as qt}from"#entry";import{V as we,a as ea,b as Ve,c as $e,d as Re}from"./BJ9VD-a9.js";import{f as et,m as ta,V as Ne}from"./B7TjF-88.js";import{m as aa,a as la,b as na,c as oa,d as tt,e as ra,u as sa,V as me,f as ia,g as at,h as ua,i as da,j as ca,k as fa}from"./84xRnX1O.js";import{V as N,a as _e,u as va,L as ma,m as ga,b as Be,c as ba,d as ya,e as ha,f as pa,g as Me,h as xa,i as Sa}from"./DUAV0wBs.js";import{u as ka,a as K,m as lt,b as Ae}from"./eNS-QVQM.js";function He(e,t,a){return Object.keys(e).filter(l=>Rt(l)&&l.endsWith(t)).reduce((l,n)=>(l[n.slice(0,-t.length)]=o=>e[n](o,a(o)),l),{})}function Pa(){const e=_([]);Nt(()=>e.value=[]);function t(a,l){e.value[l]=a}return{refs:e,updateRef:t}}const wa=A({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:R,default:"$first"},prevIcon:{type:R,default:"$prev"},nextIcon:{type:R,default:"$next"},lastIcon:{type:R,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ra(),...Ae(),...tt(),...oa(),...na(),...la(),...lt({tag:"nav"}),...Je(),...aa({variant:"text"})},"VPagination"),je=U()({name:"VPagination",props:wa(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:a,emit:l}=t;const n=X(e,"modelValue"),{t:o,n:r}=se(),{isRtl:d}=Mt(),{themeClasses:s}=Xe(e),{width:i}=ge(),u=fe(-1);De(void 0,{scoped:!0});const{resizeRef:b}=ka(w=>{if(!w.length)return;const{target:V,contentRect:m}=w[0],S=V.querySelector(".v-pagination__list > *");if(!S)return;const v=m.width,p=S.offsetWidth+parseFloat(getComputedStyle(S).marginRight)*2;u.value=y(v,p)}),f=F(()=>parseInt(e.length,10)),c=F(()=>parseInt(e.start,10)),k=F(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):u.value>=0?u.value:y(i.value,58));function y(w,V){const m=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((w-V*m)/V).toFixed(2))))}const g=F(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(k.value<=0)return[];if(k.value===1)return[n.value];if(f.value<=k.value)return ie(f.value,c.value);const w=k.value%2===0,V=w?k.value/2:Math.floor(k.value/2),m=w?V:V+1,S=f.value-V;if(m-n.value>=0)return[...ie(Math.max(1,k.value-1),c.value),e.ellipsis,f.value];if(n.value-S>=(w?1:0)){const v=k.value-1,p=f.value-v+c.value;return[c.value,e.ellipsis,...ie(v,p)]}else{const v=Math.max(1,k.value-2),p=v===1?n.value:n.value-Math.ceil(v/2)+c.value;return[c.value,e.ellipsis,...ie(v,p),e.ellipsis,f.value]}});function T(w,V,m){w.preventDefault(),n.value=V,m&&l(m,V)}const{refs:x,updateRef:I}=Pa();De({VPaginationBtn:{color:B(()=>e.color),border:B(()=>e.border),density:B(()=>e.density),size:B(()=>e.size),variant:B(()=>e.variant),rounded:B(()=>e.rounded),elevation:B(()=>e.elevation)}});const E=F(()=>g.value.map((w,V)=>{const m=S=>I(S,V);if(typeof w=="string")return{isActive:!1,key:`ellipsis-${V}`,page:w,props:{ref:m,ellipsis:!0,icon:!0,disabled:!0}};{const S=w===n.value;return{isActive:S,key:w,page:r(w),props:{ref:m,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:S?e.activeColor:e.color,"aria-current":S,"aria-label":o(S?e.currentPageAriaLabel:e.pageAriaLabel,w),onClick:v=>T(v,w)}}}})),D=F(()=>{const w=!!e.disabled||n.value<=c.value,V=!!e.disabled||n.value>=c.value+f.value-1;return{first:e.showFirstLastPage?{icon:d.value?e.lastIcon:e.firstIcon,onClick:m=>T(m,c.value,"first"),disabled:w,"aria-label":o(e.firstAriaLabel),"aria-disabled":w}:void 0,prev:{icon:d.value?e.nextIcon:e.prevIcon,onClick:m=>T(m,n.value-1,"prev"),disabled:w,"aria-label":o(e.previousAriaLabel),"aria-disabled":w},next:{icon:d.value?e.prevIcon:e.nextIcon,onClick:m=>T(m,n.value+1,"next"),disabled:V,"aria-label":o(e.nextAriaLabel),"aria-disabled":V},last:e.showFirstLastPage?{icon:d.value?e.firstIcon:e.lastIcon,onClick:m=>T(m,c.value+f.value-1,"last"),disabled:V,"aria-label":o(e.lastAriaLabel),"aria-disabled":V}:void 0}});function O(){const w=n.value-c.value;x.value[w]?.$el.focus()}function H(w){w.key===Oe.left&&!e.disabled&&n.value>Number(e.start)?(n.value=n.value-1,Fe(O)):w.key===Oe.right&&!e.disabled&&n.value<c.value+f.value-1&&(n.value=n.value+1,Fe(O))}return K(()=>h(e.tag,{ref:b,class:J(["v-pagination",s.value,e.class]),style:be(e.style),role:"navigation","aria-label":o(e.ariaLabel),onKeydown:H,"data-test":"v-pagination-root"},{default:()=>[P("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&P("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(D.value.first):h(N,L({_as:"VPaginationBtn"},D.value.first),null)]),P("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(D.value.prev):h(N,L({_as:"VPaginationBtn"},D.value.prev),null)]),E.value.map((w,V)=>P("li",{key:w.key,class:J(["v-pagination__item",{"v-pagination__item--is-active":w.isActive}]),"data-test":"v-pagination-item"},[a.item?a.item(w):h(N,L({_as:"VPaginationBtn"},w.props),{default:()=>[w.page]})])),P("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(D.value.next):h(N,L({_as:"VPaginationBtn"},D.value.next),null)]),e.showFirstLastPage&&P("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(D.value.last):h(N,L({_as:"VPaginationBtn"},D.value.last),null)])])]})),{}}}),Va=A({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),nt=Symbol.for("vuetify:data-table-pagination");function Ia(e){const t=X(e,"page",void 0,l=>Number(l??1)),a=X(e,"itemsPerPage",void 0,l=>Number(l??10));return{page:t,itemsPerPage:a}}function Da(e){const{page:t,itemsPerPage:a,itemsLength:l}=e,n=F(()=>a.value===-1?0:a.value*(t.value-1)),o=F(()=>a.value===-1?l.value:Math.min(l.value,n.value+a.value)),r=F(()=>a.value===-1||l.value===0?1:Math.ceil(l.value/a.value));oe([t,r],()=>{t.value>r.value&&(t.value=r.value)});function d(f){a.value=f,t.value=1}function s(){t.value=Se(t.value+1,1,r.value)}function i(){t.value=Se(t.value-1,1,r.value)}function u(f){t.value=Se(f,1,r.value)}const b={page:t,itemsPerPage:a,startIndex:n,stopIndex:o,pageCount:r,itemsLength:l,nextPage:s,prevPage:i,setPage:u,setItemsPerPage:d};return te(nt,b),b}function Fa(){const e=ee(nt);if(!e)throw new Error("Missing pagination!");return e}function Ta(e){const t=Ye("usePaginatedItems"),{items:a,startIndex:l,stopIndex:n,itemsPerPage:o}=e,r=F(()=>o.value<=0?a.value:a.value.slice(l.value,n.value));return oe(r,d=>{t.emit("update:currentItems",d)},{immediate:!0}),{paginatedItems:r}}const ot=A({prevIcon:{type:R,default:"$prev"},nextIcon:{type:R,default:"$next"},firstIcon:{type:R,default:"$first"},lastIcon:{type:R,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ge=U()({name:"VDataTableFooter",props:ot(),setup(e,t){let{slots:a}=t;const{t:l}=se(),{page:n,pageCount:o,startIndex:r,stopIndex:d,itemsLength:s,itemsPerPage:i,setItemsPerPage:u}=Fa(),b=F(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?l("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?l(f.title):f.title}));return K(()=>{const f=je.filterProps(e);return P("div",{class:"v-data-table-footer"},[a.prepend?.(),P("div",{class:"v-data-table-footer__items-per-page"},[P("span",{"aria-label":l(e.itemsPerPageText)},[l(e.itemsPerPageText)]),h(_e,{items:b.value,modelValue:i.value,"onUpdate:modelValue":c=>u(Number(c)),density:"compact",variant:"outlined",hideDetails:!0},null)]),P("div",{class:"v-data-table-footer__info"},[P("div",null,[l(e.pageText,s.value?r.value+1:0,d.value,s.value)])]),P("div",{class:"v-data-table-footer__pagination"},[h(je,L({modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:o.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),re=Ht({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const l=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return h(l,{class:J(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:M(e.height),width:M(e.width),maxWidth:M(e.maxWidth),left:n==="start"?M(e.fixedOffset||null):void 0,right:n==="end"?M(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?M(e.indent):void 0}},{default:()=>[a.default?.()]})}),Ca=A({headers:Array},"DataTable-header"),rt=Symbol.for("vuetify:data-table-headers"),st={title:"",sortable:!1},Ea={...st,width:48};function _a(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,l)=>{let n=!1;for(let o=0;o<t.length;o++)if(t[o].priority>l){t.splice(o,0,{element:a,priority:l}),n=!0;break}n||t.push({element:a,priority:l})},size:()=>t.length,count:()=>{let a=0;if(!t.length)return 0;const l=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===l&&(a+=1);return a},dequeue:()=>t.shift()}}function Ce(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const a of e.children)Ce(a,t);return t}function it(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&it(a.children,t);return t}function Ba(e){if(e.key){if(e.key==="data-table-group")return st;if(["data-table-expand","data-table-select"].includes(e.key))return Ea}}function Le(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(a=>Le(a,t+1))):t}function Aa(e){let t=!1;function a(o,r){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(o)if(d!=="none"&&(o.fixed=d),o.fixed===!0&&(o.fixed="start"),o.fixed===r)if(o.children)if(r==="start")for(let s=o.children.length-1;s>=0;s--)a(o.children[s],r,r);else for(let s=0;s<o.children.length;s++)a(o.children[s],r,r);else!t&&r==="start"?o.lastFixed=!0:!t&&r==="end"?o.firstFixedEnd=!0:isNaN(Number(o.width))?Gt(`Multiple fixed columns should have a static width (key: ${o.key})`):o.minWidth=Math.max(Number(o.width)||0,Number(o.minWidth)||0),t=!0;else if(o.children)if(r==="start")for(let s=o.children.length-1;s>=0;s--)a(o.children[s],r);else for(let s=0;s<o.children.length;s++)a(o.children[s],r);else t=!1}for(let o=e.length-1;o>=0;o--)a(e[o],"start");for(let o=0;o<e.length;o++)a(e[o],"end");let l=0;for(let o=0;o<e.length;o++)l=ut(e[o],l);let n=0;for(let o=e.length-1;o>=0;o--)n=dt(e[o],n)}function ut(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const a of e.children)t=ut(a,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function dt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const a of e.children)t=dt(a,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function La(e,t){const a=[];let l=0;const n=_a(e);for(;n.size()>0;){let r=n.count();const d=[];let s=1;for(;r>0;){const{element:i,priority:u}=n.dequeue(),b=t-l-Le(i);if(d.push({...i,rowspan:b??1,colspan:i.children?Ce(i).length:1}),i.children)for(const f of i.children){const c=u%1+s/Math.pow(10,l+2);n.enqueue(f,l+b+c)}s+=1,r-=1}l+=1,a.push(d)}return{columns:e.map(r=>Ce(r)).flat(),headers:a}}function ct(e){const t=[];for(const a of e){const l={...Ba(a),...a},n=l.key??(typeof l.value=="string"?l.value:null),o=l.value??n??null,r={...l,key:n,value:o,sortable:l.sortable??(l.key!=null||!!l.sort),children:l.children?ct(l.children):void 0};t.push(r)}return t}function Oa(e,t){const a=_([]),l=_([]),n=_({}),o=_({}),r=_({});Ze(()=>{const i=(e.headers||Object.keys(e.items[0]??{}).map(y=>({key:y,title:jt(y)}))).slice(),u=it(i);t?.groupBy?.value.length&&!u.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!u.has("data-table-select")&&i.unshift({key:"data-table-select"}),t?.showExpand?.value&&!u.has("data-table-expand")&&i.push({key:"data-table-expand"});const b=ct(i);Aa(b);const f=Math.max(...b.map(y=>Le(y)))+1,c=La(b,f);a.value=c.headers,l.value=c.columns;const k=c.headers.flat(1);for(const y of k)y.key&&(y.sortable&&(y.sort&&(n.value[y.key]=y.sort),y.sortRaw&&(o.value[y.key]=y.sortRaw)),y.filter&&(r.value[y.key]=y.filter))});const d={headers:a,columns:l,sortFunctions:n,sortRawFunctions:o,filterFunctions:r};return te(rt,d),d}function ye(){const e=ee(rt);if(!e)throw new Error("Missing headers!");return e}const $a={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:a}=e;return new Set(a?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},ft={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,currentPage:a,selected:l}=e;return ft.select({items:a,value:t,selected:l})}},vt={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,allItems:a,selected:l}=e;return vt.select({items:a,value:t,selected:l})}},Ra=A({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:qe}},"DataTable-select"),mt=Symbol.for("vuetify:data-table-selection");function Na(e,t){let{allItems:a,currentPage:l}=t;const n=X(e,"modelValue",e.modelValue,x=>new Set(ne(x).map(I=>a.value.find(E=>e.valueComparator(I,E.value))?.value??I)),x=>[...x.values()]),o=F(()=>a.value.filter(x=>x.selectable)),r=F(()=>l.value.filter(x=>x.selectable)),d=F(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return $a;case"all":return vt;case"page":default:return ft}}),s=fe(null);function i(x){return ne(x).every(I=>n.value.has(I.value))}function u(x){return ne(x).some(I=>n.value.has(I.value))}function b(x,I){const E=d.value.select({items:x,value:I,selected:new Set(n.value)});n.value=E}function f(x,I,E){const D=[];if(I=I??l.value.findIndex(O=>O.value===x.value),e.selectStrategy!=="single"&&E?.shiftKey&&s.value!==null){const[O,H]=[s.value,I].sort((w,V)=>w-V);D.push(...l.value.slice(O,H+1).filter(w=>w.selectable))}else D.push(x),s.value=I;b(D,!i([x]))}function c(x){const I=d.value.selectAll({value:x,allItems:o.value,currentPage:r.value,selected:new Set(n.value)});n.value=I}const k=F(()=>n.value.size>0),y=F(()=>{const x=d.value.allSelected({allItems:o.value,currentPage:r.value});return!!x.length&&i(x)}),g=B(()=>d.value.showSelectAll),T={toggleSelect:f,select:b,selectAll:c,isSelected:i,isSomeSelected:u,someSelected:k,allSelected:y,showSelectAll:g,lastSelectedIndex:s,selectStrategy:d};return te(mt,T),T}function he(){const e=ee(mt);if(!e)throw new Error("Missing selection!");return e}const Ma=A({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),gt=Symbol.for("vuetify:data-table-sort");function Ha(e){const t=X(e,"sortBy"),a=B(()=>e.mustSort),l=B(()=>e.multiSort);return{sortBy:t,mustSort:a,multiSort:l}}function ja(e){const{sortBy:t,mustSort:a,multiSort:l,page:n}=e,o=s=>{if(s.key==null)return;let i=t.value.map(b=>({...b}))??[];const u=i.find(b=>b.key===s.key);u?u.order==="desc"?a.value&&i.length===1?u.order="asc":i=i.filter(b=>b.key!==s.key):u.order="desc":l.value?i.push({key:s.key,order:"asc"}):i=[{key:s.key,order:"asc"}],t.value=i,n&&(n.value=1)};function r(s){return!!t.value.find(i=>i.key===s.key)}const d={sortBy:t,toggleSort:o,isSorted:r};return te(gt,d),d}function bt(){const e=ee(gt);if(!e)throw new Error("Missing sort!");return e}function Ga(e,t,a,l){const n=se();return{sortedItems:F(()=>a.value.length?Ua(t.value,a.value,n.current.value,{transform:l?.transform,sortFunctions:{...e.customKeySort,...l?.sortFunctions?.value},sortRawFunctions:l?.sortRawFunctions?.value}):t.value)}}function Ua(e,t,a,l){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(r=>[r,l?.transform?l.transform(r):r]).sort((r,d)=>{for(let s=0;s<t.length;s++){let i=!1;const u=t[s].key,b=t[s].order??"asc";if(b===!1)continue;let f=ve(r[1],u),c=ve(d[1],u),k=r[0].raw,y=d[0].raw;if(b==="desc"&&([f,c]=[c,f],[k,y]=[y,k]),l?.sortRawFunctions?.[u]){const g=l.sortRawFunctions[u](k,y);if(g==null)continue;if(i=!0,g)return g}if(l?.sortFunctions?.[u]){const g=l.sortFunctions[u](f,c);if(g==null)continue;if(i=!0,g)return g}if(!i&&(f instanceof Date&&c instanceof Date&&(f=f.getTime(),c=c.getTime()),[f,c]=[f,c].map(g=>g!=null?g.toString().toLocaleLowerCase():g),f!==c))return ue(f)&&ue(c)?0:ue(f)?-1:ue(c)?1:!isNaN(f)&&!isNaN(c)?Number(f)-Number(c):n.compare(f,c)}return 0}).map(r=>{let[d]=r;return d})}const yt=A({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:R,default:"$sortAsc"},sortDescIcon:{type:R,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Ee(),...ga()},"VDataTableHeaders"),Ue=U()({name:"VDataTableHeaders",props:yt(),setup(e,t){let{slots:a}=t;const{t:l}=se(),{toggleSort:n,sortBy:o,isSorted:r}=bt(),{someSelected:d,allSelected:s,selectAll:i,showSelectAll:u}=he(),{columns:b,headers:f}=ye(),{loaderClasses:c}=va(e);function k(V,m){if(!(e.sticky||e.fixedHeader)&&!V.fixed)return;const S=typeof V.fixed=="string"?V.fixed:V.fixed?"start":"none";return{position:"sticky",left:S==="start"?M(V.fixedOffset):void 0,right:S==="end"?M(V.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${m})`:void 0}}function y(V,m){V.key==="Enter"&&!e.disableSort&&n(m)}function g(V){const m=o.value.find(S=>S.key===V.key);return m?m.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:T,backgroundColorStyles:x}=sa(()=>e.color),{displayClasses:I,mobile:E}=ge(e),D=F(()=>({headers:f.value,columns:b.value,toggleSort:n,isSorted:r,sortBy:o.value,someSelected:d.value,allSelected:s.value,selectAll:i,getSortIcon:g})),O=F(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},I.value,c.value]),H=V=>{let{column:m,x:S,y:v}=V;const p=m.key==="data-table-select"||m.key==="data-table-expand",j=m.key==="data-table-group"&&m.width===0&&!m.title,pe=L(e.headerProps??{},m.headerProps??{});return h(re,L({tag:"th",align:m.align,class:[{"v-data-table__th--sortable":m.sortable&&!e.disableSort,"v-data-table__th--sorted":r(m),"v-data-table__th--fixed":m.fixed},...O.value],style:{width:M(m.width),minWidth:M(m.minWidth),maxWidth:M(m.maxWidth),...k(m,v)},colspan:m.colspan,rowspan:m.rowspan,fixed:m.fixed,nowrap:m.nowrap,lastFixed:m.lastFixed,firstFixedEnd:m.firstFixedEnd,noPadding:p,empty:j,tabindex:m.sortable?0:void 0,onClick:m.sortable?()=>n(m):void 0,onKeydown:m.sortable?W=>y(W,m):void 0},pe),{default:()=>{const W=`header.${m.key}`,q={column:m,selectAll:i,isSorted:r,toggleSort:n,sortBy:o.value,someSelected:d.value,allSelected:s.value,getSortIcon:g};return a[W]?a[W](q):j?"":m.key==="data-table-select"?a["header.data-table-select"]?.(q)??(u.value&&h(Be,{modelValue:s.value,indeterminate:d.value&&!s.value,"onUpdate:modelValue":i},null)):P("div",{class:"v-data-table-header__content"},[P("span",null,[m.title]),m.sortable&&!e.disableSort&&h(me,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(m)},null),e.multiSort&&r(m)&&P("div",{key:"badge",class:J(["v-data-table-header__sort-badge",...T.value]),style:be(x.value)},[o.value.findIndex(xe=>xe.key===m.key)+1])])}})},w=()=>{const V=F(()=>b.value.filter(S=>S?.sortable&&!e.disableSort)),m=F(()=>{if(b.value.find(v=>v.key==="data-table-select")!=null)return s.value?"$checkboxOn":d.value?"$checkboxIndeterminate":"$checkboxOff"});return h(re,L({tag:"th",class:[...O.value],colspan:f.value.length+1},e.headerProps),{default:()=>[P("div",{class:"v-data-table-header__content"},[h(_e,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:V.value,label:l("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>o.value=[],appendIcon:m.value,"onClick:append":()=>i(!s.value)},{chip:S=>h(ba,{onClick:S.item.raw?.sortable?()=>n(S.item.raw):void 0,onMousedown:v=>{v.preventDefault(),v.stopPropagation()}},{default:()=>[S.item.title,h(me,{class:J(["v-data-table__td-sort-icon",r(S.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:g(S.item.raw),size:"small"},null)]})})])]})};K(()=>E.value?P("tr",null,[h(w,null,null)]):P(Y,null,[a.headers?a.headers(D.value):f.value.map((V,m)=>P("tr",null,[V.map((S,v)=>h(H,{column:S,x:v,y:m},null))])),e.loading&&P("tr",{class:"v-data-table-progress"},[P("th",{colspan:b.value.length},[h(ma,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Ka=A({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ht=Symbol.for("vuetify:data-table-group");function Wa(e){return{groupBy:X(e,"groupBy")}}function za(e){const{disableSort:t,groupBy:a,sortBy:l}=e,n=_(new Set),o=F(()=>a.value.map(u=>({...u,order:u.order??!1})).concat(t?.value?[]:l.value));function r(u){return n.value.has(u.id)}function d(u){const b=new Set(n.value);r(u)?b.delete(u.id):b.add(u.id),n.value=b}function s(u){function b(f){const c=[];for(const k of f.items)"type"in k&&k.type==="group"?c.push(...b(k)):c.push(k);return[...new Set(c)]}return b({items:u})}const i={sortByWithGroups:o,toggleGroup:d,opened:n,groupBy:a,extractRows:s,isGroupOpen:r};return te(ht,i),i}function pt(){const e=ee(ht);if(!e)throw new Error("Missing group!");return e}function Qa(e,t){if(!e.length)return[];const a=new Map;for(const l of e){const n=ve(l.raw,t);a.has(n)||a.set(n,[]),a.get(n).push(l)}return a}function xt(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=Qa(e,t[0]),o=[],r=t.slice(1);return n.forEach((d,s)=>{const i=t[0],u=`${l}_${i}_${s}`;o.push({depth:a,id:u,key:i,value:s,items:r.length?xt(d,r,a+1,u):d,type:"group"})}),o}function St(e,t,a){const l=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&l.push(n),(t.has(n.id)||n.value==null)&&(l.push(...St(n.items,t,a)),a&&l.push({...n,type:"group-summary"}))):l.push(n);return l}function Xa(e,t,a,l){return{flatItems:F(()=>{if(!t.value.length)return e.value;const o=xt(e.value,t.value.map(r=>r.key));return St(o,a.value,Ut(l))})}}const kt=A({item:{type:Object,required:!0},groupCollapseIcon:{type:R,default:"$tableGroupCollapse"},groupExpandIcon:{type:R,default:"$tableGroupExpand"}},"VDataTableGroupHeaderRow"),Ja=U()({name:"VDataTableGroupHeaderRow",props:kt(),setup(e,t){let{slots:a}=t;const{isGroupOpen:l,toggleGroup:n,extractRows:o}=pt(),{isSelected:r,isSomeSelected:d,select:s}=he(),{columns:i}=ye(),u=F(()=>o([e.item])),b=B(()=>i.value.length-(i.value.some(f=>f.key==="data-table-select")?1:0));return()=>P("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(f=>{if(f.key==="data-table-group"){const c=l(e.item)?e.groupCollapseIcon:e.groupExpandIcon,k=()=>n(e.item);return a["data-table-group"]?.({item:e.item,count:u.value.length,props:{icon:c,onClick:k}})??h(re,{class:"v-data-table-group-header-row__column",colspan:b.value},{default:()=>[h(N,{size:"small",variant:"text",icon:c,onClick:k},null),P("span",null,[e.item.value]),P("span",null,[$("("),u.value.length,$(")")])]})}else if(f.key==="data-table-select"){const c=r(u.value),k=d(u.value)&&!c,y=g=>s(u.value,g);return a["data-table-select"]?.({props:{modelValue:c,indeterminate:k,"onUpdate:modelValue":y}})??h(re,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[h(Be,{modelValue:c,indeterminate:k,"onUpdate:modelValue":y},null)]})}return""})])}}),Ya=A({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Pt=Symbol.for("vuetify:datatable:expanded");function Za(e){const t=B(()=>e.expandOnClick),a=X(e,"expanded",e.expanded,d=>new Set(d),d=>[...d.values()]);function l(d,s){const i=new Set(a.value);s?i.add(d.value):i.delete(d.value),a.value=i}function n(d){return a.value.has(d.value)}function o(d){l(d,!n(d))}const r={expand:l,expanded:a,expandOnClick:t,isExpanded:n,toggleExpand:o};return te(Pt,r),r}function wt(){const e=ee(Pt);if(!e)throw new Error("foo");return e}const Vt=A({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:R,default:"$collapse"},expandIcon:{type:R,default:"$expand"},onClick:ke(),onContextmenu:ke(),onDblclick:ke(),...Ee()},"VDataTableRow"),qa=U()({name:"VDataTableRow",props:Vt(),setup(e,t){let{slots:a}=t;const{displayClasses:l,mobile:n}=ge(e,"v-data-table__tr"),{isSelected:o,toggleSelect:r,someSelected:d,allSelected:s,selectAll:i}=he(),{isExpanded:u,toggleExpand:b}=wt(),{toggleSort:f,sortBy:c,isSorted:k}=bt(),{columns:y}=ye();K(()=>P("tr",{class:J(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},l.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((g,T)=>{const x=e.item,I=`item.${g.key}`,E=`header.${g.key}`,D={index:e.index,item:x.raw,internalItem:x,value:ve(x.columns,g.key),column:g,isSelected:o,toggleSelect:r,isExpanded:u,toggleExpand:b},O={column:g,selectAll:i,isSorted:k,toggleSort:f,sortBy:c.value,someSelected:d.value,allSelected:s.value,getSortIcon:()=>""},H=typeof e.cellProps=="function"?e.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value,column:g}):e.cellProps,w=typeof g.cellProps=="function"?g.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value}):g.cellProps,V=g.key==="data-table-select"||g.key==="data-table-expand",m=g.key==="data-table-group"&&g.width===0&&!g.title;return h(re,L({align:g.align,indent:g.intent,class:{"v-data-table__td--expanded-row":g.key==="data-table-expand","v-data-table__td--select-row":g.key==="data-table-select"},fixed:g.fixed,fixedOffset:g.fixedOffset,fixedEndOffset:g.fixedEndOffset,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,maxWidth:n.value?void 0:g.maxWidth,noPadding:V,empty:m,nowrap:g.nowrap,width:n.value?void 0:g.width},H,w),{default:()=>{if(g.key==="data-table-select")return a["item.data-table-select"]?.({...D,props:{disabled:!x.selectable,modelValue:o([x]),onClick:de(()=>r(x),["stop"])}})??h(Be,{disabled:!x.selectable,modelValue:o([x]),onClick:de(v=>r(x,e.index,v),["stop"])},null);if(g.key==="data-table-expand")return a["item.data-table-expand"]?.({...D,props:{icon:u(x)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:de(()=>b(x),["stop"])}})??h(N,{icon:u(x)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:de(()=>b(x),["stop"])},null);if(a[I]&&!n.value)return a[I](D);const S=Q(D.value);return n.value?P(Y,null,[P("div",{class:"v-data-table__td-title"},[a[E]?.(O)??g.title]),P("div",{class:"v-data-table__td-value"},[a[I]?.(D)??S])]):S}})})]))}}),It=A({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Te(Vt(),["collapseIcon","expandIcon"]),...Te(kt(),["groupCollapseIcon","groupExpandIcon"]),...Ee()},"VDataTableRows"),Ke=U()({name:"VDataTableRows",inheritAttrs:!1,props:It(),setup(e,t){let{attrs:a,slots:l}=t;const{columns:n}=ye(),{expandOnClick:o,toggleExpand:r,isExpanded:d}=wt(),{isSelected:s,toggleSelect:i}=he(),{toggleGroup:u,isGroupOpen:b}=pt(),{t:f}=se(),{mobile:c}=ge(e);return K(()=>{const k=Te(e,["groupCollapseIcon","groupExpandIcon"]);return e.loading&&(!e.items.length||l.loading)?P("tr",{class:"v-data-table-rows-loading",key:"loading"},[P("td",{colspan:n.value.length},[l.loading?.()??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?P("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[P("td",{colspan:n.value.length},[l["no-data"]?.()??f(e.noDataText)])]):P(Y,null,[e.items.map((y,g)=>{if(y.type==="group"){const I={index:g,item:y,columns:n.value,isExpanded:d,toggleExpand:r,isSelected:s,toggleSelect:i,toggleGroup:u,isGroupOpen:b};return l["group-header"]?l["group-header"](I):h(Ja,L({key:`group-header_${y.id}`,item:y},He(a,":group-header",()=>I),k),l)}if(y.type==="group-summary"){const I={index:g,item:y,columns:n.value,toggleGroup:u};return l["group-summary"]?.(I)??""}const T={index:g,item:y.raw,internalItem:y,columns:n.value,isExpanded:d,toggleExpand:r,isSelected:s,toggleSelect:i},x={...T,props:L({key:`item_${y.key??y.index}`,onClick:o.value?()=>{r(y)}:void 0,index:g,item:y,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,mobile:c.value},He(a,":row",()=>T),typeof e.rowProps=="function"?e.rowProps({item:T.item,index:T.index,internalItem:T.internalItem}):e.rowProps)};return P(Y,{key:x.props.key},[l.item?l.item(x):h(qa,x.props,l),d(y)&&l["expanded-row"]?.(T)])})])}),{}}}),Dt=A({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...Ae(),...tt(),...lt(),...Je()},"VTable"),We=U()({name:"VTable",props:Dt(),setup(e,t){let{slots:a,emit:l}=t;const{themeClasses:n}=Xe(e),{densityClasses:o}=ia(e);return K(()=>{const r={VCheckboxBtn:{density:e.density}};return h(e.tag,{class:J(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},n.value,o.value,e.class]),style:be(e.style)},{default:()=>[a.top?.(),h(at,{defaults:r},{default:()=>[a.default?P("div",{class:"v-table__wrapper",style:{height:M(e.height)}},[P("table",null,[a.default()])]):a.wrapper?.()]}),a.bottom?.()]})}),{}}}),el=A({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function tl(e,t,a,l){const n=e.returnObject?t:le(t,e.itemValue),o=le(t,e.itemSelectable,!0),r=l.reduce((d,s)=>(s.key!=null&&(d[s.key]=le(t,s.value)),d),{});return{type:"item",key:e.returnObject?le(t,e.itemValue):n,index:a,value:n,selectable:o,columns:r,raw:t}}function al(e,t,a){return t.map((l,n)=>tl(e,l,n,a))}function ll(e,t){return{items:F(()=>al(e,e.items,t.value))}}function nl(e){let{page:t,itemsPerPage:a,sortBy:l,groupBy:n,search:o}=e;const r=Ye("VDataTable"),d=()=>({page:t.value,itemsPerPage:a.value,sortBy:l.value,groupBy:n.value,search:o.value});let s=null;oe(d,i=>{qe(s,i)||(s&&s.search!==i.search&&(t.value=1),r.emit("update:options",i),s=i)},{deep:!0,immediate:!0})}const ol=(e,t,a)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const l=[];let n=e.indexOf(t);for(;~n;)l.push([n,n+t.length]),n=e.indexOf(t,n+t.length);return l.length?l:-1};function Ie(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const rl=A({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function sl(e,t,a){const l=[],n=a?.default??ol,o=a?.filterKeys?ne(a.filterKeys):!1,r=Object.keys(a?.customKeyFilter??{}).length;if(!e?.length)return l;let d=null;e:for(let s=0;s<e.length;s++){const[i,u=i]=ne(e[s]),b={},f={};let c=-1;if((t||r>0)&&!a?.noFilter){let k=!1;if(typeof i=="object"){if(i.type==="divider"||i.type==="subheader"){d?.type==="divider"&&i.type==="subheader"&&l.push(d),d={index:s,matches:{},type:i.type};continue}const T=o||Object.keys(u);k=T.length===r;for(const x of T){const I=le(u,x),E=a?.customKeyFilter?.[x];if(c=E?E(I,t,i):n(I,t,i),c!==-1&&c!==!1)E?b[x]=Ie(c,t):f[x]=Ie(c,t);else if(a?.filterMode==="every")continue e}}else c=n(i,t,i),c!==-1&&c!==!1&&(f.title=Ie(c,t));const y=Object.keys(f).length,g=Object.keys(b).length;if(!y&&!g||a?.filterMode==="union"&&g!==r&&!y||a?.filterMode==="intersection"&&(g!==r||!y&&r>0&&!k))continue}d&&(l.push(d),d=null),l.push({index:s,matches:{...f,...b}})}return l}function il(e,t,a,l){const n=fe([]),o=fe(new Map),r=F(()=>l?.transform?ae(t).map(s=>[s,l.transform(s)]):ae(t));Ze(()=>{const s=typeof a=="function"?a():ae(a),i=typeof s!="string"&&typeof s!="number"?"":String(s),u=sl(r.value,i,{customKeyFilter:{...e.customKeyFilter,...ae(l?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),b=ae(t),f=[],c=new Map;u.forEach(k=>{let{index:y,matches:g}=k;const T=b[y];f.push(T),c.set(T.value,g)}),n.value=f,o.value=c});function d(s){return o.value.get(s.value)}return{filteredItems:n,filteredMatches:o,getMatches:d}}const ul=A({...It(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Ya(),...Ka(),...Ca(),...el(),...Ra(),...Ma(),...yt(),...Dt()},"DataTable"),dl=A({...Va(),...ul(),...rl(),...ot()},"VDataTable"),cl=U()({name:"VDataTable",props:dl(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:l}=t;const{groupBy:n}=Wa(e),{sortBy:o,multiSort:r,mustSort:d}=Ha(e),{page:s,itemsPerPage:i}=Ia(e),{disableSort:u}=Kt(e),{columns:b,headers:f,sortFunctions:c,sortRawFunctions:k,filterFunctions:y}=Oa(e,{groupBy:n,showSelect:B(()=>e.showSelect),showExpand:B(()=>e.showExpand)}),{items:g}=ll(e,b),T=B(()=>e.search),{filteredItems:x}=il(e,g,T,{transform:z=>z.columns,customKeyFilter:y}),{toggleSort:I}=ja({sortBy:o,multiSort:r,mustSort:d,page:s}),{sortByWithGroups:E,opened:D,extractRows:O,isGroupOpen:H,toggleGroup:w}=za({groupBy:n,sortBy:o,disableSort:u}),{sortedItems:V}=Ga(e,x,E,{transform:z=>({...z.raw,...z.columns}),sortFunctions:c,sortRawFunctions:k}),{flatItems:m}=Xa(V,n,D,()=>!!l["group-summary"]),S=F(()=>m.value.length),{startIndex:v,stopIndex:p,pageCount:j,setItemsPerPage:pe}=Da({page:s,itemsPerPage:i,itemsLength:S}),{paginatedItems:W}=Ta({items:m,startIndex:v,stopIndex:p,itemsPerPage:i}),q=F(()=>O(W.value)),{isSelected:xe,select:Ft,selectAll:Tt,toggleSelect:Ct,someSelected:Et,allSelected:_t}=Na(e,{allItems:g,currentPage:q}),{isExpanded:Bt,toggleExpand:At}=Za(e);nl({page:s,itemsPerPage:i,sortBy:o,groupBy:n,search:T}),De({VDataTableRows:{hideNoData:B(()=>e.hideNoData),noDataText:B(()=>e.noDataText),loading:B(()=>e.loading),loadingText:B(()=>e.loadingText)}});const G=F(()=>({page:s.value,itemsPerPage:i.value,sortBy:o.value,pageCount:j.value,toggleSort:I,setItemsPerPage:pe,someSelected:Et.value,allSelected:_t.value,isSelected:xe,select:Ft,selectAll:Tt,toggleSelect:Ct,isExpanded:Bt,toggleExpand:At,isGroupOpen:H,toggleGroup:w,items:q.value.map(z=>z.raw),internalItems:q.value,groupedItems:W.value,columns:b.value,headers:f.value}));return K(()=>{const z=Ge.filterProps(e),Lt=Ue.filterProps(e),Ot=Ke.filterProps(e),$t=We.filterProps(e);return h(We,L({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},$t,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>l.top?.(G.value),default:()=>l.default?l.default(G.value):P(Y,null,[l.colgroup?.(G.value),!e.hideDefaultHeader&&P("thead",{key:"thead"},[h(Ue,Lt,l)]),l.thead?.(G.value),!e.hideDefaultBody&&P("tbody",null,[l["body.prepend"]?.(G.value),l.body?l.body(G.value):h(Ke,L(a,Ot,{items:W.value}),l),l["body.append"]?.(G.value)]),l.tbody?.(G.value),l.tfoot?.(G.value)]),bottom:()=>l.bottom?l.bottom(G.value):!e.hideDefaultFooter&&P(Y,null,[h(ua,null,null),h(Ge,z,{prepend:l["footer.prepend"]})])})}),{}}}),fl=A({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ta({origin:"center center",scrollStrategy:"block",transition:{component:ya},zIndex:2400})},"VDialog"),ze=U()({name:"VDialog",props:fl(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:l}=t;const n=X(e,"modelValue"),{scopeId:o}=da(),r=_();function d(u){const b=u.relatedTarget,f=u.target;if(b!==f&&r.value?.contentEl&&r.value?.globalTop&&![document,r.value.contentEl].includes(f)&&!r.value.contentEl.contains(f)){const c=Qt(r.value.contentEl);if(!c.length)return;const k=c[0],y=c[c.length-1];b===k?y.focus():k.focus()}}Wt(()=>{document.removeEventListener("focusin",d)}),zt&&oe(()=>n.value&&e.retainFocus,u=>{u?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0});function s(){a("afterEnter"),(e.scrim||e.retainFocus)&&r.value?.contentEl&&!r.value.contentEl.contains(document.activeElement)&&r.value.contentEl.focus({preventScroll:!0})}function i(){a("afterLeave")}return oe(n,async u=>{u||(await Fe(),r.value.activatorEl?.focus({preventScroll:!0}))}),K(()=>{const u=Ne.filterProps(e),b=L({"aria-haspopup":"dialog"},e.activatorProps),f=L({tabindex:-1},e.contentProps);return h(Ne,L({ref:r,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},u,{modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,"aria-modal":"true",activatorProps:b,contentProps:f,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:s,onAfterLeave:i},o),{activator:l.activator,default:function(){for(var c=arguments.length,k=new Array(c),y=0;y<c;y++)k[y]=arguments[y];return h(at,{root:"VDialog"},{default:()=>[l.default?.(...k)]})}})}),et({},r)}}),vl=A({...Ae(),...pa()},"VForm"),ml=U()({name:"VForm",props:vl(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:l}=t;const n=ha(e),o=_();function r(s){s.preventDefault(),n.reset()}function d(s){const i=s,u=n.validate();i.then=u.then.bind(u),i.catch=u.catch.bind(u),i.finally=u.finally.bind(u),l("submit",i),i.defaultPrevented||u.then(b=>{let{valid:f}=b;f&&o.value?.submit()}),i.preventDefault()}return K(()=>P("form",{ref:o,class:J(["v-form",e.class]),style:be(e.style),novalidate:!0,onReset:r,onSubmit:d},[a.default?.(n)])),et(n,o)}}),Qe=ca("v-spacer","div","VSpacer"),gl={key:0,class:"text-red-500"},bl={class:"d-flex ga-4 justify-space-between align-center w-100"},yl={class:"d-flex ga-4 align-center"},hl="[error 409] 系所簡稱必須為唯一值，已有相同的系所簡稱。",pl={__name:"DataTableCRUD",props:{title:String,tableTitle:String,headers:Array,apiUrl:String,apiEndpoints:Object,formFields:Array,itemSingular:String},emits:["field-updated","on-edit"],setup(e,{expose:t,emit:a}){const l=a,n=_(!1),o=e,r=_([]),d=_(""),s=_(null),i=_(!1),u=_({}),b=_(""),f=_(null),c=_(!1),k=_(""),y=_(null);t({editedItem:u});const g=F(()=>b.value==="add"?`新增${o.itemSingular}`:`編輯${o.itemSingular}`),T=F(()=>{if(!d.value)return r.value;const S=d.value.toLowerCase();return r.value.filter(v=>Object.values(v).some(p=>String(p).toLowerCase().includes(S)))}),{$curridataAPI:x}=Jt(),I=async()=>{try{const S=await x.get(o.apiUrl+o.apiEndpoints.get);r.value=S.data}catch(S){console.error(S),s.value="無法從 API 取得資料。"}},E=(S,v={})=>{b.value=S,u.value={...v},S==="edit"&&l("on-edit",u.value),i.value=!0},D=()=>{i.value=!1,u.value={},f.value&&f.value.resetValidation()},O=(S,v)=>{l("field-updated",{key:S,value:v})},H=async()=>{const{valid:S}=await f.value.validate();if(!S)return;const v={...u.value};for(const p of o.formFields)p.type==="select"&&p["return-object"]&&v[p.key]&&typeof v[p.key]=="object"&&(v[p.key]=v[p.key][p["item-title"]||"NAME"]);console.log("itemToSave",v);try{if(b.value==="add")console.log("create by itemToSave",v),await x.post(o.apiUrl+o.apiEndpoints.add,v);else{const p=o.apiEndpoints.update.replace("{id}",v.ID);await x.put(o.apiUrl+p,v)}D(),await I()}catch(p){console.error(p),console.log(p.message),console.log(p.response.data.detail),n.value=!0,s.value=p.response?.data?.detail||"儲存資料失敗。"}},w=S=>{y.value=S,k.value=`確定要刪除${o.itemSingular} ${S[o.headers[1].value]} 嗎？`,c.value=!0},V=async()=>{const S=y.value;if(!S||!S.ID){s.value=`刪除失敗：無效的${o.itemSingular} ID。`,console.error("嘗試刪除一個沒有 ID 的項目。"),c.value=!1;return}try{const v=o.apiEndpoints.delete.replace("{id}",S.ID);await x.delete(o.apiUrl+v),await I(),c.value=!1}catch(v){console.error(v),s.value=v.response?.data?.detail||"刪除資料失敗。",c.value=!1}},m=()=>{c.value=!1,y.value=null};return Yt(()=>{I()}),(S,v)=>(Z(),Pe(Y,null,[P("div",null,[P("h2",null,Q(e.title),1),s.value?(Z(),Pe("div",gl,[P("p",null,Q(s.value),1)])):(Z(),ce(we,{key:1,class:"mt-4"},{default:C(()=>[h(Ve,null,{default:C(()=>[P("div",bl,[P("span",null,Q(e.tableTitle),1),P("div",yl,[h(N,{color:"primary","prepend-icon":"mdi-plus-circle",onClick:v[0]||(v[0]=p=>E("add")),height:"40"},{default:C(()=>[$(" 新增"+Q(e.itemSingular),1)]),_:1}),h(Me,{modelValue:d.value,"onUpdate:modelValue":v[1]||(v[1]=p=>d.value=p),label:"輸入關鍵字查詢","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"search-field"},null,8,["modelValue"])])])]),_:1}),h(cl,{headers:e.headers,items:T.value,class:"elevation-10"},{"item.actions":C(({item:p})=>[h(me,{class:"me-2",size:"small",onClick:j=>E("edit",p)},{default:C(()=>[...v[6]||(v[6]=[$(" mdi-pencil ",-1)])]),_:1},8,["onClick"]),h(me,{size:"small",onClick:j=>w(p)},{default:C(()=>[...v[7]||(v[7]=[$(" mdi-delete ",-1)])]),_:1},8,["onClick"])]),_:1},8,["headers","items"])]),_:1})),h(ze,{modelValue:i.value,"onUpdate:modelValue":v[2]||(v[2]=p=>i.value=p),"max-width":"600px"},{default:C(()=>[h(we,null,{default:C(()=>[h(Ve,null,{default:C(()=>[$(Q(g.value),1)]),_:1}),h($e,null,{default:C(()=>[h(fa,null,{default:C(()=>[h(ml,{ref_key:"form",ref:f},{default:C(()=>[h(xa,null,{default:C(()=>[(Z(!0),Pe(Y,null,Zt(e.formFields,p=>(Z(),ce(Sa,{key:p.key,cols:"12",sm:"6"},{default:C(()=>[p.type==="text"?(Z(),ce(Me,{key:0,modelValue:u.value[p.key],"onUpdate:modelValue":j=>u.value[p.key]=j,label:p.label,rules:p.rules,readonly:p.readonly},null,8,["modelValue","onUpdate:modelValue","label","rules","readonly"])):p.type==="select"?(Z(),ce(_e,{key:1,modelValue:u.value[p.key],"onUpdate:modelValue":[j=>u.value[p.key]=j,j=>O(p.key,u.value[p.key])],items:p.items,"item-title":p["item-title"],"item-value":p["item-value"],label:p.label,rules:p.rules,"return-object":p["return-object"]},null,8,["modelValue","onUpdate:modelValue","items","item-title","item-value","label","rules","return-object"])):qt("",!0)]),_:2},1024))),128))]),_:1})]),_:1},512)]),_:1})]),_:1}),h(Re,null,{default:C(()=>[h(Qe),h(N,{color:"blue-darken-1",variant:"text",onClick:D},{default:C(()=>[...v[8]||(v[8]=[$("取消",-1)])]),_:1}),h(N,{color:"blue-darken-1",variant:"text",onClick:H},{default:C(()=>[...v[9]||(v[9]=[$("儲存",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(ze,{modelValue:c.value,"onUpdate:modelValue":v[3]||(v[3]=p=>c.value=p),"max-width":"400"},{default:C(()=>[h(we,null,{default:C(()=>[h(Ve,{class:"headline"},{default:C(()=>[...v[10]||(v[10]=[$("確認",-1)])]),_:1}),h($e,null,{default:C(()=>[$(Q(k.value),1)]),_:1}),h(Re,null,{default:C(()=>[h(Qe),h(N,{color:"blue-darken-1",variant:"text",onClick:m},{default:C(()=>[...v[11]||(v[11]=[$("取消",-1)])]),_:1}),h(N,{color:"blue-darken-1",variant:"text",onClick:V},{default:C(()=>[...v[12]||(v[12]=[$("確定",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),h(ea,{modelValue:n.value,"onUpdate:modelValue":v[5]||(v[5]=p=>n.value=p),timeout:2e3,color:"deep-orange-darken-1",location:"top center"},{actions:C(()=>[h(N,{color:"pink",variant:"text",onClick:v[4]||(v[4]=p=>n.value=!1)},{default:C(()=>[...v[13]||(v[13]=[$(" Close ",-1)])]),_:1})]),default:C(()=>[$(Q(hl)+" ")]),_:1},8,["modelValue"])],64))}},Il=Xt(pl,[["__scopeId","data-v-0213932e"]]);export{Il as D};
