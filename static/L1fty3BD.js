import{m as I,V as x}from"./xcJM7VyV.js";import{f as O}from"./olVGSFH9.js";import{a as Y,V as E,e as F}from"./CCg23xyY.js";import{j as H,k as G,l as J,r as K}from"./BLsNmApK.js";import{s as U,v as $,x as q,A as z,r as b,C as S,as as Q,M as L,f as W,aD as X,m as Z,af as ee,H as te,ar as ae,L as oe,j as se,b as V,J as p,S as ne,a as P}from"#entry";import{j as re,l as ie,m as le,b as ue,o as ce,g as me}from"./DZrX2P9O.js";import{u as ve}from"./CO7gIc2z.js";function fe(e){const s=S(e());let o=-1;function t(){clearInterval(o)}function m(){t(),oe(()=>s.value=e())}function v(r){const f=r?getComputedStyle(r):{transitionDuration:.2},i=parseFloat(f.transitionDuration)*1e3||200;if(t(),s.value<=0)return;const d=performance.now();o=window.setInterval(()=>{const k=performance.now()-d+i;s.value=Math.max(e()-k,0),s.value<=0&&t()},i)}return ae(t),{clear:t,time:s,start:v,reset:m}}const de=$({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...J({location:"bottom"}),...G(),...ue(),...le(),...te(),...ee(I({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy","stickToTarget"])},"VSnackbar"),ge=U()({name:"VSnackbar",props:de(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:o}=s;const t=q(e,"modelValue"),{positionClasses:m}=H(e),{scopeId:v}=ve(),{themeClasses:r}=z(e),{colorClasses:f,colorStyles:i,variantClasses:d}=re(e),{roundedClasses:k}=ie(e),l=fe(()=>Number(e.timeout)),T=b(),g=b(),u=S(!1),h=S(0),w=b(),_=se(E,void 0);Q(()=>!!_,()=>{const a=F();ne(()=>{w.value=a.mainStyles.value})}),L(t,c),L(()=>e.timeout,c),W(()=>{t.value&&c()});let y=-1;function c(){l.reset(),window.clearTimeout(y);const a=Number(e.timeout);if(!t.value||a===-1)return;const n=X(g.value);l.start(n),y=window.setTimeout(()=>{t.value=!1},a)}function A(){l.reset(),window.clearTimeout(y)}function R(){u.value=!0,A()}function C(){u.value=!1,c()}function B(a){h.value=a.touches[0].clientY}function D(a){Math.abs(h.value-a.changedTouches[0].clientY)>50&&(t.value=!1)}function M(){u.value&&C()}const N=Z(()=>e.location.split(" ").reduce((a,n)=>(a[`v-snackbar--${n}`]=!0,a),{}));return Y(()=>{const a=x.filterProps(e),n=!!(o.default||o.text||e.text);return V(x,p({ref:T,class:["v-snackbar",{"v-snackbar--active":t.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},N.value,m.value,e.class],style:[w.value,e.style]},a,{modelValue:t.value,"onUpdate:modelValue":j=>t.value=j,contentProps:p({class:["v-snackbar__wrapper",r.value,f.value,k.value,d.value],style:[i.value],onPointerenter:R,onPointerleave:C},a.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:B,onTouchend:D,onAfterLeave:M},v),{default:()=>[ce(!1,"v-snackbar"),e.timer&&!u.value&&P("div",{key:"timer",class:"v-snackbar__timer"},[V(K,{ref:g,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:l.time.value},null)]),n&&P("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[o.text?.()??e.text,o.default?.()]),o.actions&&V(me,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[P("div",{class:"v-snackbar__actions"},[o.actions({isActive:t})])]})],activator:o.activator})}),O({},T)}});export{ge as V};
