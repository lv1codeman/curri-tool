import{m as Be,V as he}from"./BXhrkaVQ.js";import{v as Q,s as j,y as Z,B as J,ae as ve,b as I,G as D,T as Pe,M as Le,ad as Oe,r as q,j as Fe,C as H,ag as Me,ah as _e,H as me,ai as pe,D as z,p as O,aj as ie,ak as He,X as Ke,al as ue,am as Ue,a as A,F as Y,O as ze,$ as ge,an as xe,ao as $e,aa as Ne,W as ce,V as qe,ap as je,Z as oe,R as We,n as Xe,f as Ge,x as Ye,a2 as de,z as Ze,aq as Je,ar as Qe,d as et,as as ye,at as Ve}from"#entry";import{g as tt}from"./D3wYNAQn.js";import{f as Ce}from"./olVGSFH9.js";import{u as lt,m as nt,V as at,a as ot}from"./Ozd80GZo.js";import{h as Te,i as ut,V as we,j as st}from"./CPAon7Lp.js";import{V as Ae}from"./BD4OUTaE.js";import{V as be,a as ke,m as rt,g as it}from"./hfDzOCke.js";import{u as ct}from"./BSAEodDF.js";import{u as ee,a as De,b as Ee,c as dt,d as ft}from"./DpNcNMXf.js";import{V as Ie}from"./CJH-QQmR.js";import{V as vt}from"./CEqwaou1.js";import{V as Se,m as mt}from"./SoTdgAPQ.js";import{V as ht}from"./CqTIv2b6.js";const pt=j({indeterminate:Boolean,indeterminateIcon:{type:Pe,default:"$checkboxIndeterminate"},...mt({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),gt=Q()({name:"VCheckboxBtn",props:pt(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,f){let{slots:u}=f;const n=Z(e,"indeterminate"),s=Z(e,"modelValue");function v(o){n.value&&(n.value=!1)}const h=J(()=>n.value?e.indeterminateIcon:e.falseIcon),r=J(()=>n.value?e.indeterminateIcon:e.trueIcon);return ee(()=>{const o=ve(Se.filterProps(e),["modelValue"]);return I(Se,D(o,{modelValue:s.value,"onUpdate:modelValue":[g=>s.value=g,v],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:h.value,trueIcon:r.value,"aria-checked":n.value?"mixed":void 0}),u)}),{}}}),yt=j({id:String,submenu:Boolean,disableInitialFocus:Boolean,...ve(rt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",stickToTarget:!0,transition:{component:Ae}}),["absolute"])},"VMenu"),Vt=Q()({name:"VMenu",props:yt(),emits:{"update:modelValue":e=>!0},setup(e,f){let{slots:u}=f;const n=Z(e,"modelValue"),{scopeId:s}=ct(),{isRtl:v}=Le(),h=Oe(),r=J(()=>e.id||`v-menu-${h}`),o=q(),g=Fe(be,null),i=H(new Set);Ke(be,{register(){i.value.add(h)},unregister(){i.value.delete(h)},closeParents(l){setTimeout(()=>{!i.value.size&&!e.persistent&&(l==null||o.value?.contentEl&&!Ue(l,o.value.contentEl))&&(n.value=!1,g?.closeParents())},40)}}),Me(()=>{g?.unregister(),document.removeEventListener("focusin",P)}),_e(()=>n.value=!1);async function P(l){const m=l.relatedTarget,w=l.target;await me(),n.value&&m!==w&&o.value?.contentEl&&o.value?.globalTop&&![document,o.value.contentEl].includes(w)&&!o.value.contentEl.contains(w)&&pe(o.value.contentEl)[0]?.focus()}z(n,l=>{l?(g?.register(),ue&&!e.disableInitialFocus&&document.addEventListener("focusin",P,{once:!0})):(g?.unregister(),ue&&document.removeEventListener("focusin",P))},{immediate:!0});function B(l){g?.closeParents(l)}function E(l){if(!e.disabled)if(l.key==="Tab"||l.key==="Enter"&&!e.closeOnContentClick){if(l.key==="Enter"&&(l.target instanceof HTMLTextAreaElement||l.target instanceof HTMLInputElement&&l.target.closest("form")))return;l.key==="Enter"&&l.preventDefault(),He(pe(o.value?.contentEl,!1),l.shiftKey?"prev":"next",w=>w.tabIndex>=0)||(n.value=!1,o.value?.activatorEl?.focus())}else e.submenu&&l.key===(v.value?"ArrowRight":"ArrowLeft")&&(n.value=!1,o.value?.activatorEl?.focus())}function x(l){if(e.disabled)return;const m=o.value?.contentEl;m&&n.value?l.key==="ArrowDown"?(l.preventDefault(),l.stopImmediatePropagation(),ie(m,"next")):l.key==="ArrowUp"?(l.preventDefault(),l.stopImmediatePropagation(),ie(m,"prev")):e.submenu&&(l.key===(v.value?"ArrowRight":"ArrowLeft")?n.value=!1:l.key===(v.value?"ArrowLeft":"ArrowRight")&&(l.preventDefault(),ie(m,"first"))):(e.submenu?l.key===(v.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(l.key))&&(n.value=!0,l.preventDefault(),setTimeout(()=>setTimeout(()=>x(l))))}const y=O(()=>D({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-controls":r.value,onKeydown:x},e.activatorProps));return ee(()=>{const l=ke.filterProps(e);return I(ke,D({ref:o,id:r.value,class:["v-menu",e.class],style:e.style},l,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,absolute:!0,activatorProps:y.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":B,onKeydown:E},s),{activator:u.activator,default:function(){for(var m=arguments.length,w=new Array(m),R=0;R<m;R++)w[R]=arguments[R];return I(Te,{root:"VMenu"},{default:()=>[u.default?.(...w)]})}})}),Ce({id:r,ΨopenChildren:i},o)}}),wt=j({renderless:Boolean,...Ee()},"VVirtualScrollItem"),bt=Q()({name:"VVirtualScrollItem",inheritAttrs:!1,props:wt(),emits:{"update:height":e=>!0},setup(e,f){let{attrs:u,emit:n,slots:s}=f;const{resizeRef:v,contentRect:h}=De(void 0,"border");z(()=>h.value?.height,r=>{r!=null&&n("update:height",r)}),ee(()=>e.renderless?A(Y,null,[s.default?.({itemRef:v})]):A("div",D({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},u),[s.default?.()]))}}),kt=-1,It=1,fe=100,St=j({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Pt(e,f){const u=ze(),n=H(0);ge(()=>{n.value=parseFloat(e.itemHeight||0)});const s=H(0),v=H(Math.ceil((parseInt(e.height)||u.height.value)/(n.value||16))||1),h=H(0),r=H(0),o=q(),g=q();let i=0;const{resizeRef:P,contentRect:B}=De();ge(()=>{P.value=o.value});const E=O(()=>o.value===document.documentElement?u.height.value:B.value?.height||parseInt(e.height)||0),x=O(()=>!!(o.value&&g.value&&E.value&&n.value));let y=Array.from({length:f.value.length}),l=Array.from({length:f.value.length});const m=H(0);let w=-1;function R(t){return y[t]||n.value}const K=$e(()=>{const t=performance.now();l[0]=0;const a=f.value.length;for(let d=1;d<=a-1;d++)l[d]=(l[d-1]||0)+R(d-1);m.value=Math.max(m.value,performance.now()-t)},m),k=z(x,t=>{t&&(k(),i=g.value.offsetTop,K.immediate(),M(),~w&&me(()=>{ue&&window.requestAnimationFrame(()=>{ae(w),w=-1})}))});xe(()=>{K.clear()});function te(t,a){const d=y[t],b=n.value;n.value=b?Math.min(n.value,a):a,(d!==a||b!==n.value)&&(y[t]=a,K())}function L(t){t=ce(t,0,f.value.length-1);const a=Math.floor(t),d=t%1,b=a+1,C=l[a]||0,c=l[b]||C;return C+(c-C)*d}function F(t){return xt(l,t)}let W=0,$=0,X=0;z(E,(t,a)=>{a&&(M(),t<a&&requestAnimationFrame(()=>{$=0,M()}))});let G=-1;function le(){if(!o.value||!g.value)return;const t=o.value.scrollTop,a=performance.now();a-X>500?($=Math.sign(t-W),i=g.value.offsetTop):$=t-W,W=t,X=a,window.clearTimeout(G),G=window.setTimeout(N,500),M()}function N(){!o.value||!g.value||($=0,X=0,window.clearTimeout(G),M())}let ne=-1;function M(){cancelAnimationFrame(ne),ne=requestAnimationFrame(se)}function se(){if(!o.value||!E.value||!n.value)return;const t=W-i,a=Math.sign($),d=Math.max(0,t-fe),b=ce(F(d),0,f.value.length),C=t+E.value+fe,c=ce(F(C)+1,b+1,f.value.length);if((a!==kt||b<s.value)&&(a!==It||c>v.value)){const p=L(s.value)-L(b),S=L(c)-L(v.value);Math.max(p,S)>fe?(s.value=b,v.value=c):(b<=0&&(s.value=b),c>=f.value.length&&(v.value=c))}h.value=L(s.value),r.value=L(f.value.length)-L(v.value)}function ae(t){const a=L(t);!o.value||t&&!a?w=t:o.value.scrollTop=a}const re=O(()=>f.value.slice(s.value,v.value).map((t,a)=>{const d=a+s.value;return{raw:t,index:d,key:Ne(t,e.itemKey,d)}}));return z(f,()=>{y=Array.from({length:f.value.length}),l=Array.from({length:f.value.length}),K.immediate(),M()},{deep:1}),{calculateVisibleItems:M,containerRef:o,markerRef:g,computedItems:re,paddingTop:h,paddingBottom:r,scrollToIndex:ae,handleScroll:le,handleScrollend:N,handleItemResize:te}}function xt(e,f){let u=e.length-1,n=0,s=0,v=null,h=-1;if(e[u]<f)return u;for(;n<=u;)if(s=n+u>>1,v=e[s],v>f)u=s-1;else if(v<f)h=s,n=s+1;else return v===f?s:n;return h}const Ct=j({items:{type:Array,default:()=>[]},renderless:Boolean,...St(),...Ee(),...ft()},"VVirtualScroll"),Tt=Q()({name:"VVirtualScroll",props:Ct(),setup(e,f){let{slots:u}=f;const n=qe("VVirtualScroll"),{dimensionStyles:s}=dt(e),{calculateVisibleItems:v,containerRef:h,markerRef:r,handleScroll:o,handleScrollend:g,handleItemResize:i,scrollToIndex:P,paddingTop:B,paddingBottom:E,computedItems:x}=Pt(e,J(()=>e.items));return je(()=>e.renderless,()=>{function y(){const m=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";h.value===document.documentElement?(document[m]("scroll",o,{passive:!0}),document[m]("scrollend",g)):(h.value?.[m]("scroll",o,{passive:!0}),h.value?.[m]("scrollend",g))}Ge(()=>{h.value=it(n.vnode.el,!0),y(!0)}),xe(y)}),ee(()=>{const y=x.value.map(l=>I(bt,{key:l.key,renderless:e.renderless,"onUpdate:height":m=>i(l.index,m)},{default:m=>u.default?.({item:l.raw,index:l.index,...m})}));return e.renderless?A(Y,null,[A("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:oe(B.value)}},null),y,A("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:oe(E.value)}},null)]):A("div",{ref:h,class:Xe(["v-virtual-scroll",e.class]),onScrollPassive:o,onScrollend:g,style:We([s.value,e.style])},[A("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:oe(B.value),paddingBottom:oe(E.value)}},[y])])}),{calculateVisibleItems:v,scrollToIndex:P}}});function At(e,f){const u=H(!1);let n;function s(r){cancelAnimationFrame(n),u.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{u.value=!1})})}async function v(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(u.value){const o=z(u,()=>{o(),r()})}else r()})}async function h(r){if(r.key==="Tab"&&f.value?.focus(),!["PageDown","PageUp","Home","End"].includes(r.key))return;const o=e.value?.$el;if(!o)return;(r.key==="Home"||r.key==="End")&&o.scrollTo({top:r.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await v();const g=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const i=o.getBoundingClientRect().top;for(const P of g)if(P.getBoundingClientRect().top>=i){P.focus();break}}else{const i=o.getBoundingClientRect().bottom;for(const P of[...g].reverse())if(P.getBoundingClientRect().bottom<=i){P.focus();break}}}return{onScrollPassive:s,onKeydown:h}}const Dt=j({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Pe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...nt({itemChildren:!1})},"Select"),Et=j({...Dt(),...ve(Be({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ut({transition:{component:Ae}})},"VSelect"),jt=Q()({name:"VSelect",props:Et(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,f){let{slots:u}=f;const{t:n}=Ye(),s=q(),v=q(),h=q(),{items:r,transformIn:o,transformOut:g}=lt(e),i=Z(e,"modelValue",[],t=>o(t===null?[null]:Ze(t)),t=>{const a=g(t);return e.multiple?a:a[0]??null}),P=O(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),B=tt(e),E=O(()=>i.value.map(t=>t.value)),x=H(!1);let y="",l=-1,m;const w=O(()=>e.hideSelected?r.value.filter(t=>!i.value.some(a=>(e.valueComparator||de)(a,t))):r.value),R=O(()=>e.hideNoData&&!w.value.length||B.isReadonly.value||B.isDisabled.value),K=Z(e,"menu"),k=O({get:()=>K.value,set:t=>{K.value&&!t&&v.value?.ΨopenChildren.size||t&&R.value||(K.value=t)}}),te=J(()=>k.value?e.closeText:e.openText),L=O(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),F=q(),W=At(F,s);function $(t){e.openOnClear&&(k.value=!0)}function X(){R.value||(k.value=!k.value)}function G(t){ye(t)&&le(t)}function le(t){if(!t.key||B.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(k.value=!0),["Escape","Tab"].includes(t.key)&&(k.value=!1),t.key==="Home"?F.value?.focus("first"):t.key==="End"&&F.value?.focus("last");const a=1e3;if(!ye(t))return;const d=performance.now();d-m>a&&(y="",l=-1),y+=t.key.toLowerCase(),m=d;const b=w.value;function C(){let V=c();return V||y.at(-1)===y.at(-2)&&(y=y.slice(0,-1),V=c(),V)||(l=-1,V=c(),V)?V:(y=t.key.toLowerCase(),c())}function c(){for(let V=l+1;V<b.length;V++){const _=b[V];if(_.title.toLowerCase().startsWith(y))return[_,V]}}const p=C();if(!p)return;const[S,U]=p;l=U,F.value?.focus(U),e.multiple||(i.value=[S])}function N(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const d=i.value.findIndex(C=>(e.valueComparator||de)(C.value,t.value)),b=a??!~d;if(~d){const C=b?[...i.value,t]:[...i.value];C.splice(d,1),i.value=C}else b&&(i.value=[...i.value,t])}else{const d=a!==!1;i.value=d?[t]:[],me(()=>{k.value=!1})}}function ne(t){F.value?.$el.contains(t.relatedTarget)||(k.value=!1)}function M(){e.eager&&h.value?.calculateVisibleItems()}function se(){x.value&&s.value?.focus()}function ae(t){x.value=!0}function re(t){if(t==null)i.value=[];else if(Ve(s.value,":autofill")||Ve(s.value,":-webkit-autofill")){const a=r.value.find(d=>d.title===t);a&&N(a)}else s.value&&(s.value.value="")}return z(k,()=>{if(!e.hideSelected&&k.value&&i.value.length){const t=w.value.findIndex(a=>i.value.some(d=>(e.valueComparator||de)(d.value,a.value)));ue&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&h.value?.scrollToIndex(t)})}}),z(()=>e.items,(t,a)=>{k.value||x.value&&e.hideNoData&&!a.length&&t.length&&(k.value=!0)}),ee(()=>{const t=!!(e.chips||u.chip),a=!!(!e.hideNoData||w.value.length||u["prepend-item"]||u["append-item"]||u["no-data"]),d=i.value.length>0,b=he.filterProps(e),C=d||!x.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return I(he,D({ref:s},b,{modelValue:i.value.map(c=>c.props.value).join(", "),"onUpdate:modelValue":re,focused:x.value,"onUpdate:focused":c=>x.value=c,validationValue:i.externalValue,counterValue:P.value,dirty:d,class:["v-select",{"v-select--active-menu":k.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":i.value.length,"v-select--selection-slot":!!u.selection},e.class],style:e.style,inputmode:"none",placeholder:C,"onClick:clear":$,"onMousedown:control":X,onBlur:ne,onKeydown:le,"aria-label":n(te.value),title:n(te.value)}),{...u,default:()=>A(Y,null,[I(Vt,D({ref:v,modelValue:k.value,"onUpdate:modelValue":c=>k.value=c,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:M,onAfterLeave:se},L.value),{default:()=>[a&&I(at,D({ref:F,selected:E.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onKeydown:G,onFocusin:ae,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},W,e.listProps),{default:()=>[u["prepend-item"]?.(),!w.value.length&&!e.hideNoData&&(u["no-data"]?.()??I(Ie,{key:"no-data",title:n(e.noDataText)},null)),I(Tt,{ref:h,renderless:!0,items:w.value,itemKey:"value"},{default:c=>{let{item:p,index:S,itemRef:U}=c;const V=Je(p.props),_=D(p.props,{ref:U,key:p.value,onClick:()=>N(p,null)});return p.type==="divider"?u.divider?.({props:p.raw,index:S})??I(vt,D(p.props,{key:`divider-${S}`}),null):p.type==="subheader"?u.subheader?.({props:p.raw,index:S})??I(ot,D(p.props,{key:`subheader-${S}`}),null):u.item?.({item:p,index:S,props:_})??I(Ie,D(_,{role:"option"}),{prepend:T=>{let{isSelected:Re}=T;return A(Y,null,[e.multiple&&!e.hideSelected?I(gt,{key:p.value,modelValue:Re,ripple:!1,tabindex:"-1"},null):void 0,V.prependAvatar&&I(st,{image:V.prependAvatar},null),V.prependIcon&&I(we,{icon:V.prependIcon},null)])}})}}),u["append-item"]?.()]})]}),i.value.map((c,p)=>{function S(T){T.stopPropagation(),T.preventDefault(),N(c,!1)}const U={"onClick:close":S,onKeydown(T){T.key!=="Enter"&&T.key!==" "||(T.preventDefault(),T.stopPropagation(),S(T))},onMousedown(T){T.preventDefault(),T.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},V=t?!!u.chip:!!u.selection,_=V?Qe(t?u.chip({item:c,index:p,props:U}):u.selection({item:c,index:p})):void 0;if(!(V&&!_))return A("div",{key:c.value,class:"v-select__selection"},[t?u.chip?I(Te,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:c.title}}},{default:()=>[_]}):I(ht,D({key:"chip",closable:e.closableChips,size:"small",text:c.title,disabled:c.props.disabled},U),null):_??A("span",{class:"v-select__selection-text"},[c.title,e.multiple&&p<i.value.length-1&&A("span",{class:"v-select__selection-comma"},[et(",")])])])})]),"append-inner":function(){for(var c=arguments.length,p=new Array(c),S=0;S<c;S++)p[S]=arguments[S];return A(Y,null,[u["append-inner"]?.(...p),e.menuIcon?I(we,{class:"v-select__menu-icon",color:s.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Ce({isFocused:x,menu:k,select:N},s)}});export{jt as V,gt as a};
