import{u as Y,h as Z,V as S,a as w,m as $,b as ee,i as te,c as le,j as ne}from"./DifO3NxO.js";import{f as ae}from"./olVGSFH9.js";import{s as ue,p as oe,x as ie,q as d,r as m,D as se,b as x,E as V,a as l,F as y,ae as re,av as ce,aJ as de,n as fe,G as C,H as ve}from"#entry";import{I as D}from"./un5phzSR.js";import{u as me}from"./7kqxRFU_.js";const xe=["color","file","time","date","datetime-local","week","month"],Ve=oe({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...te(),...ee(),...$()},"VTextField"),Fe=ue()({name:"VTextField",directives:{vIntersect:D},inheritAttrs:!1,props:Ve(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,N){let{attrs:f,emit:g,slots:a}=N;const u=ie(e,"modelValue"),{isFocused:o,focus:h,blur:B}=Y(e),{onIntersect:R}=ne(e),T=d(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),E=d(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),k=d(()=>["plain","underlined"].includes(e.variant)),P=m(),F=m(),i=m(),r=Z(e),M=d(()=>xe.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function I(){r.isSuppressing.value&&r.update(),o.value||h(),C(()=>{i.value!==document.activeElement&&i.value?.focus()})}function j(t){g("mousedown:control",t),t.target!==i.value&&(I(),t.preventDefault())}function z(t){g("click:control",t)}function O(t,n){t.stopPropagation(),I(),C(()=>{u.value=null,n(),ve(e["onClick:clear"],t)})}function U(t){const n=t.target;if(u.value=n.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const c=[n.selectionStart,n.selectionEnd];C(()=>{n.selectionStart=c[0],n.selectionEnd=c[1]})}}return me(()=>{const t=!!(a.counter||e.counter!==!1&&e.counter!=null),n=!!(t||a.details),[c,q]=se(f),{modelValue:ye,...G}=S.filterProps(e),H=w.filterProps(e);return x(S,V({ref:P,modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":k.value},e.class],style:e.style},c,G,{centerAffix:!k.value,focused:o.value}),{...a,default:s=>{let{id:J,isDisabled:b,isDirty:p,isReadonly:K,isValid:L,hasDetails:Q,reset:W}=s;return x(w,V({ref:F,onMousedown:j,onClick:z,"onClick:clear":v=>O(v,W),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},re(H,["onClick:clear"]),{id:J.value,active:M.value||p.value,dirty:p.value||e.dirty,disabled:b.value,focused:o.value,details:Q.value,error:L.value===!1}),{...a,default:v=>{let{props:{class:_,...X}}=v;const A=ce(l("input",V({ref:i,value:u.value,onInput:U,autofocus:e.autofocus,readonly:K.value,disabled:b.value,name:r.fieldName.value,autocomplete:r.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:h,onBlur:B},X,q),null),[[D,{handler:R},null,{once:!0}]]);return l(y,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?l("div",{class:fe(_),"data-no-activator":""},[a.default(),A]):de(A,{class:_}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:n?s=>l(y,null,[a.details?.(s),t&&l(y,null,[l("span",null,null),x(le,{active:e.persistentCounter||o.value,value:T.value,max:E.value,disabled:e.disabled},a.counter)])]):void 0})}),ae({},P,F,i)}});export{Fe as V,Ve as m};
