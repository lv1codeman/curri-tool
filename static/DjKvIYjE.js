import{m as xe,V as de}from"./C-2OP4mh.js";import{y as ae,x as j,A as le,D as ne,ae as ye,b as w,v as R,U as Ve,G as N,a as x,F as Y,P as Ce,E as z,a0 as fe,r as K,q as E,ah as be,ai as Te,aa as Ae,X as re,I as ke,aj as we,W as De,ak as Re,$ as te,S as Be,n as Fe,f as Oe,z as _e,a3 as ie,B as Ee,al as Le,am as Me,d as He,an as me,ao as ve}from"#entry";import{g as ze}from"./DDBeEnLp.js";import{f as Ue}from"./olVGSFH9.js";import{u as $e,m as Ne,V as qe,a as Ke}from"./CiMATjOX.js";import{i as je,V as he,j as We,h as Xe}from"./1nzPMNhC.js";import{V as Ge}from"./Dn88HoyX.js";import{V as Ye}from"./BaU4qSl4.js";import{V as pe}from"./di2xmGk0.js";import{u as oe,a as Se,b as Ie,c as Je,d as Qe}from"./BsiP8vYj.js";import{g as Ze}from"./FtWSywy7.js";import{V as et}from"./BKnBEunE.js";import{V as ge,m as tt}from"./D-hJgucG.js";import{V as lt}from"./CP7flQHA.js";const nt=j({indeterminate:Boolean,indeterminateIcon:{type:Ve,default:"$checkboxIndeterminate"},...tt({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),at=ae()({name:"VCheckboxBtn",props:nt(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,d){let{slots:n}=d;const u=le(e,"indeterminate"),a=le(e,"modelValue");function m(c){u.value&&(u.value=!1)}const v=ne(()=>u.value?e.indeterminateIcon:e.falseIcon),s=ne(()=>u.value?e.indeterminateIcon:e.trueIcon);return oe(()=>{const c=ye(ge.filterProps(e),["modelValue"]);return w(ge,R(c,{modelValue:a.value,"onUpdate:modelValue":[b=>a.value=b,m],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:v.value,trueIcon:s.value,"aria-checked":u.value?"mixed":void 0}),n)}),{}}}),ot=j({renderless:Boolean,...Ie()},"VVirtualScrollItem"),ut=ae()({name:"VVirtualScrollItem",inheritAttrs:!1,props:ot(),emits:{"update:height":e=>!0},setup(e,d){let{attrs:n,emit:u,slots:a}=d;const{resizeRef:m,contentRect:v}=Se(void 0,"border");N(()=>v.value?.height,s=>{s!=null&&u("update:height",s)}),oe(()=>e.renderless?x(Y,null,[a.default?.({itemRef:m})]):x("div",R({ref:m,class:["v-virtual-scroll__item",e.class],style:e.style},n),[a.default?.()]))}}),st=-1,rt=1,ce=100,it=j({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ct(e,d){const n=Ce(),u=z(0);fe(()=>{u.value=parseFloat(e.itemHeight||0)});const a=z(0),m=z(Math.ceil((parseInt(e.height)||n.height.value)/(u.value||16))||1),v=z(0),s=z(0),c=K(),b=K();let r=0;const{resizeRef:C,contentRect:L}=Se();fe(()=>{C.value=c.value});const B=E(()=>c.value===document.documentElement?n.height.value:L.value?.height||parseInt(e.height)||0),T=E(()=>!!(c.value&&b.value&&B.value&&u.value));let p=Array.from({length:d.value.length}),y=Array.from({length:d.value.length});const S=z(0);let A=-1;function W(t){return p[t]||u.value}const M=Te(()=>{const t=performance.now();y[0]=0;const l=d.value.length;for(let i=1;i<=l-1;i++)y[i]=(y[i-1]||0)+W(i-1);S.value=Math.max(S.value,performance.now()-t)},S),V=N(T,t=>{t&&(V(),r=b.value.offsetTop,M.immediate(),O(),~A&&ke(()=>{we&&window.requestAnimationFrame(()=>{ee(A),A=-1})}))});be(()=>{M.clear()});function J(t,l){const i=p[t],g=u.value;u.value=g?Math.min(u.value,l):l,(i!==l||g!==u.value)&&(p[t]=l,M())}function D(t){t=re(t,0,d.value.length-1);const l=Math.floor(t),i=t%1,g=l+1,I=y[l]||0,o=y[g]||I;return I+(o-I)*i}function F(t){return dt(y,t)}let q=0,U=0,X=0;N(B,(t,l)=>{l&&(O(),t<l&&requestAnimationFrame(()=>{U=0,O()}))});let G=-1;function Q(){if(!c.value||!b.value)return;const t=c.value.scrollTop,l=performance.now();l-X>500?(U=Math.sign(t-q),r=b.value.offsetTop):U=t-q,q=t,X=l,window.clearTimeout(G),G=window.setTimeout($,500),O()}function $(){!c.value||!b.value||(U=0,X=0,window.clearTimeout(G),O())}let Z=-1;function O(){cancelAnimationFrame(Z),Z=requestAnimationFrame(ue)}function ue(){if(!c.value||!B.value||!u.value)return;const t=q-r,l=Math.sign(U),i=Math.max(0,t-ce),g=re(F(i),0,d.value.length),I=t+B.value+ce,o=re(F(I)+1,g+1,d.value.length);if((l!==st||g<a.value)&&(l!==rt||o>m.value)){const f=D(a.value)-D(g),k=D(o)-D(m.value);Math.max(f,k)>ce?(a.value=g,m.value=o):(g<=0&&(a.value=g),o>=d.value.length&&(m.value=o))}v.value=D(a.value),s.value=D(d.value.length)-D(m.value)}function ee(t){const l=D(t);!c.value||t&&!l?A=t:c.value.scrollTop=l}const se=E(()=>d.value.slice(a.value,m.value).map((t,l)=>{const i=l+a.value;return{raw:t,index:i,key:Ae(t,e.itemKey,i)}}));return N(d,()=>{p=Array.from({length:d.value.length}),y=Array.from({length:d.value.length}),M.immediate(),O()},{deep:1}),{calculateVisibleItems:O,containerRef:c,markerRef:b,computedItems:se,paddingTop:v,paddingBottom:s,scrollToIndex:ee,handleScroll:Q,handleScrollend:$,handleItemResize:J}}function dt(e,d){let n=e.length-1,u=0,a=0,m=null,v=-1;if(e[n]<d)return n;for(;u<=n;)if(a=u+n>>1,m=e[a],m>d)n=a-1;else if(m<d)v=a,u=a+1;else return m===d?a:u;return v}const ft=j({items:{type:Array,default:()=>[]},renderless:Boolean,...it(),...Ie(),...Qe()},"VVirtualScroll"),mt=ae()({name:"VVirtualScroll",props:ft(),setup(e,d){let{slots:n}=d;const u=De("VVirtualScroll"),{dimensionStyles:a}=Je(e),{calculateVisibleItems:m,containerRef:v,markerRef:s,handleScroll:c,handleScrollend:b,handleItemResize:r,scrollToIndex:C,paddingTop:L,paddingBottom:B,computedItems:T}=ct(e,ne(()=>e.items));return Re(()=>e.renderless,()=>{function p(){const S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";v.value===document.documentElement?(document[S]("scroll",c,{passive:!0}),document[S]("scrollend",b)):(v.value?.[S]("scroll",c,{passive:!0}),v.value?.[S]("scrollend",b))}Oe(()=>{v.value=Ze(u.vnode.el,!0),p(!0)}),be(p)}),oe(()=>{const p=T.value.map(y=>w(ut,{key:y.key,renderless:e.renderless,"onUpdate:height":S=>r(y.index,S)},{default:S=>n.default?.({item:y.raw,index:y.index,...S})}));return e.renderless?x(Y,null,[x("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:te(L.value)}},null),p,x("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:te(B.value)}},null)]):x("div",{ref:v,class:Fe(["v-virtual-scroll",e.class]),onScrollPassive:c,onScrollend:b,style:Be([a.value,e.style])},[x("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:te(L.value),paddingBottom:te(B.value)}},[p])])}),{calculateVisibleItems:m,scrollToIndex:C}}});function vt(e,d){const n=z(!1);let u;function a(s){cancelAnimationFrame(u),n.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{n.value=!1})})}async function m(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(n.value){const c=N(n,()=>{c(),s()})}else s()})}async function v(s){if(s.key==="Tab"&&d.value?.focus(),!["PageDown","PageUp","Home","End"].includes(s.key))return;const c=e.value?.$el;if(!c)return;(s.key==="Home"||s.key==="End")&&c.scrollTo({top:s.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await m();const b=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const r=c.getBoundingClientRect().top;for(const C of b)if(C.getBoundingClientRect().top>=r){C.focus();break}}else{const r=c.getBoundingClientRect().bottom;for(const C of[...b].reverse())if(C.getBoundingClientRect().bottom<=r){C.focus();break}}}return{onScrollPassive:a,onKeydown:v}}const ht=j({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ve,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Ne({itemChildren:!1})},"Select"),pt=j({...ht(),...ye(xe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...je({transition:{component:Ge}})},"VSelect"),Rt=ae()({name:"VSelect",props:pt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,d){let{slots:n}=d;const{t:u}=_e(),a=K(),m=K(),v=K(),{items:s,transformIn:c,transformOut:b}=$e(e),r=le(e,"modelValue",[],t=>c(t===null?[null]:Ee(t)),t=>{const l=b(t);return e.multiple?l:l[0]??null}),C=E(()=>typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:r.value.length),L=ze(e),B=E(()=>r.value.map(t=>t.value)),T=z(!1);let p="",y=-1,S;const A=E(()=>e.hideSelected?s.value.filter(t=>!r.value.some(l=>(e.valueComparator||ie)(l,t))):s.value),W=E(()=>e.hideNoData&&!A.value.length||L.isReadonly.value||L.isDisabled.value),M=le(e,"menu"),V=E({get:()=>M.value,set:t=>{M.value&&!t&&m.value?.Î¨openChildren.size||t&&W.value||(M.value=t)}}),J=ne(()=>V.value?e.closeText:e.openText),D=E(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),F=K(),q=vt(F,a);function U(t){e.openOnClear&&(V.value=!0)}function X(){W.value||(V.value=!V.value)}function G(t){me(t)&&Q(t)}function Q(t){if(!t.key||L.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(V.value=!0),["Escape","Tab"].includes(t.key)&&(V.value=!1),t.key==="Home"?F.value?.focus("first"):t.key==="End"&&F.value?.focus("last");const l=1e3;if(!me(t))return;const i=performance.now();i-S>l&&(p="",y=-1),p+=t.key.toLowerCase(),S=i;const g=A.value;function I(){let h=o();return h||p.at(-1)===p.at(-2)&&(p=p.slice(0,-1),h=o(),h)||(y=-1,h=o(),h)?h:(p=t.key.toLowerCase(),o())}function o(){for(let h=y+1;h<g.length;h++){const _=g[h];if(_.title.toLowerCase().startsWith(p))return[_,h]}}const f=I();if(!f)return;const[k,H]=f;y=H,F.value?.focus(H),e.multiple||(r.value=[k])}function $(t){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const i=r.value.findIndex(I=>(e.valueComparator||ie)(I.value,t.value)),g=l??!~i;if(~i){const I=g?[...r.value,t]:[...r.value];I.splice(i,1),r.value=I}else g&&(r.value=[...r.value,t])}else{const i=l!==!1;r.value=i?[t]:[],ke(()=>{V.value=!1})}}function Z(t){F.value?.$el.contains(t.relatedTarget)||(V.value=!1)}function O(){e.eager&&v.value?.calculateVisibleItems()}function ue(){T.value&&a.value?.focus()}function ee(t){T.value=!0}function se(t){if(t==null)r.value=[];else if(ve(a.value,":autofill")||ve(a.value,":-webkit-autofill")){const l=s.value.find(i=>i.title===t);l&&$(l)}else a.value&&(a.value.value="")}return N(V,()=>{if(!e.hideSelected&&V.value&&r.value.length){const t=A.value.findIndex(l=>r.value.some(i=>(e.valueComparator||ie)(i.value,l.value)));we&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&v.value?.scrollToIndex(t)})}}),N(()=>e.items,(t,l)=>{V.value||T.value&&e.hideNoData&&!l.length&&t.length&&(V.value=!0)}),oe(()=>{const t=!!(e.chips||n.chip),l=!!(!e.hideNoData||A.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),i=r.value.length>0,g=de.filterProps(e),I=i||!T.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return w(de,R({ref:a},g,{modelValue:r.value.map(o=>o.props.value).join(", "),"onUpdate:modelValue":se,focused:T.value,"onUpdate:focused":o=>T.value=o,validationValue:r.externalValue,counterValue:C.value,dirty:i,class:["v-select",{"v-select--active-menu":V.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":r.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:I,"onClick:clear":U,"onMousedown:control":X,onBlur:Z,onKeydown:Q,"aria-label":u(J.value),title:u(J.value)}),{...n,default:()=>x(Y,null,[w(Ye,R({ref:m,modelValue:V.value,"onUpdate:modelValue":o=>V.value=o,activator:"parent",contentClass:"v-select__content",disabled:W.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:O,onAfterLeave:ue},D.value),{default:()=>[l&&w(qe,R({ref:F,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:o=>o.preventDefault(),onKeydown:G,onFocusin:ee,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},q,e.listProps),{default:()=>[n["prepend-item"]?.(),!A.value.length&&!e.hideNoData&&(n["no-data"]?.()??w(pe,{key:"no-data",title:u(e.noDataText)},null)),w(mt,{ref:v,renderless:!0,items:A.value,itemKey:"value"},{default:o=>{let{item:f,index:k,itemRef:H}=o;const h=Le(f.props),_=R(f.props,{ref:H,key:f.value,onClick:()=>$(f,null)});return f.type==="divider"?n.divider?.({props:f.raw,index:k})??w(et,R(f.props,{key:`divider-${k}`}),null):f.type==="subheader"?n.subheader?.({props:f.raw,index:k})??w(Ke,R(f.props,{key:`subheader-${k}`}),null):n.item?.({item:f,index:k,props:_})??w(pe,R(_,{role:"option"}),{prepend:P=>{let{isSelected:Pe}=P;return x(Y,null,[e.multiple&&!e.hideSelected?w(at,{key:f.value,modelValue:Pe,ripple:!1,tabindex:"-1"},null):void 0,h.prependAvatar&&w(We,{image:h.prependAvatar},null),h.prependIcon&&w(he,{icon:h.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),r.value.map((o,f)=>{function k(P){P.stopPropagation(),P.preventDefault(),$(o,!1)}const H={"onClick:close":k,onKeydown(P){P.key!=="Enter"&&P.key!==" "||(P.preventDefault(),P.stopPropagation(),k(P))},onMousedown(P){P.preventDefault(),P.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},h=t?!!n.chip:!!n.selection,_=h?Me(t?n.chip({item:o,index:f,props:H}):n.selection({item:o,index:f})):void 0;if(!(h&&!_))return x("div",{key:o.value,class:"v-select__selection"},[t?n.chip?w(Xe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>[_]}):w(lt,R({key:"chip",closable:e.closableChips,size:"small",text:o.title,disabled:o.props.disabled},H),null):_??x("span",{class:"v-select__selection-text"},[o.title,e.multiple&&f<r.value.length-1&&x("span",{class:"v-select__selection-comma"},[He(",")])])])})]),"append-inner":function(){for(var o=arguments.length,f=new Array(o),k=0;k<o;k++)f[k]=arguments[k];return x(Y,null,[n["append-inner"]?.(...f),e.menuIcon?w(he,{class:"v-select__menu-icon",color:a.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Ue({isFocused:T,menu:V,select:$},a)}});export{Rt as V,at as a};
