import{L as Lt,r as B,M as Ot,y as U,x as E,A as J,z as se,N as $t,O as Qe,P as me,E as ce,Q as Ie,q as F,R as oe,D as A,b,a as k,v as $,n as Q,S as ge,T as Xe,U as R,V as Le,I as Oe,G as Ce,W as Ye,X as xe,j as ee,Y as te,Z as Rt,$ as M,a0 as Ze,a1 as Nt,a2 as Mt,B as ne,a3 as Je,a4 as fe,a5 as ie,F as X,a6 as Te,a7 as Ht,d as O,p as ue,t as W,a8 as Se,a9 as De,aa as le,ab as ae,ac as jt,_ as Gt,h as Ut,f as Kt,c as ke,o as Z,l as de,w as T,s as zt,m as Wt}from"#entry";import{V as N}from"./DnvMyz26.js";import{V as $e}from"./D8bvMAuO.js";import{u as Qt,L as Xt,m as Yt,b as Pe,V as we,a as Re,c as Ne}from"./CUuAJ6Ty.js";import{m as Zt,b as Jt,c as qt,d as ea,e as qe,f as ta,u as aa,V as ve,g as la,h as na}from"./B-Hxcajx.js";import{a as ra,u as Y,m as et,b as _e}from"./BsiP8vYj.js";import{V as Be,a as Ae}from"./BLczs9VA.js";import{V as sa}from"./v4BGuXz-.js";import{V as oa}from"./DskjslOh.js";import{V as ia}from"./D5rSoGI3.js";import{d as ua,e as da}from"./BUz42rcT.js";import{f as ca}from"./olVGSFH9.js";import{V as fa,a as va}from"./DZIxpjna.js";import{a as Me,V as He}from"./BlKqekpN.js";import{V as ma}from"./Caygb5uM.js";function je(e,t,a){return Object.keys(e).filter(l=>Lt(l)&&l.endsWith(t)).reduce((l,n)=>(l[n.slice(0,-t.length)]=r=>e[n](r,a(r)),l),{})}function ga(){const e=B([]);Ot(()=>e.value=[]);function t(a,l){e.value[l]=a}return{refs:e,updateRef:t}}const ba=E({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:R,default:"$first"},prevIcon:{type:R,default:"$prev"},nextIcon:{type:R,default:"$next"},lastIcon:{type:R,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ta(),..._e(),...qe(),...ea(),...qt(),...Jt(),...et({tag:"nav"}),...Xe(),...Zt({variant:"text"})},"VPagination"),Ge=U()({name:"VPagination",props:ba(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:a,emit:l}=t;const n=J(e,"modelValue"),{t:r,n:o}=se(),{isRtl:u}=$t(),{themeClasses:s}=Qe(e),{width:i}=me(),d=ce(-1);Ie(void 0,{scoped:!0});const{resizeRef:y}=ra(P=>{if(!P.length)return;const{target:w,contentRect:m}=P[0],S=w.querySelector(".v-pagination__list > *");if(!S)return;const v=m.width,p=S.offsetWidth+parseFloat(getComputedStyle(S).marginRight)*2;d.value=h(v,p)}),c=F(()=>parseInt(e.length,10)),f=F(()=>parseInt(e.start,10)),V=F(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):d.value>=0?d.value:h(i.value,58));function h(P,w){const m=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((P-w*m)/w).toFixed(2))))}const g=F(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(V.value<=0)return[];if(V.value===1)return[n.value];if(c.value<=V.value)return oe(c.value,f.value);const P=V.value%2===0,w=P?V.value/2:Math.floor(V.value/2),m=P?w:w+1,S=c.value-w;if(m-n.value>=0)return[...oe(Math.max(1,V.value-1),f.value),e.ellipsis,c.value];if(n.value-S>=(P?1:0)){const v=V.value-1,p=c.value-v+f.value;return[f.value,e.ellipsis,...oe(v,p)]}else{const v=Math.max(1,V.value-2),p=v===1?n.value:n.value-Math.ceil(v/2)+f.value;return[f.value,e.ellipsis,...oe(v,p),e.ellipsis,c.value]}});function C(P,w,m){P.preventDefault(),n.value=w,m&&l(m,w)}const{refs:x,updateRef:I}=ga();Ie({VPaginationBtn:{color:A(()=>e.color),border:A(()=>e.border),density:A(()=>e.density),size:A(()=>e.size),variant:A(()=>e.variant),rounded:A(()=>e.rounded),elevation:A(()=>e.elevation)}});const _=F(()=>g.value.map((P,w)=>{const m=S=>I(S,w);if(typeof P=="string")return{isActive:!1,key:`ellipsis-${w}`,page:P,props:{ref:m,ellipsis:!0,icon:!0,disabled:!0}};{const S=P===n.value;return{isActive:S,key:P,page:o(P),props:{ref:m,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:S?e.activeColor:e.color,"aria-current":S,"aria-label":r(S?e.currentPageAriaLabel:e.pageAriaLabel,P),onClick:v=>C(v,P)}}}})),D=F(()=>{const P=!!e.disabled||n.value<=f.value,w=!!e.disabled||n.value>=f.value+c.value-1;return{first:e.showFirstLastPage?{icon:u.value?e.lastIcon:e.firstIcon,onClick:m=>C(m,f.value,"first"),disabled:P,"aria-label":r(e.firstAriaLabel),"aria-disabled":P}:void 0,prev:{icon:u.value?e.nextIcon:e.prevIcon,onClick:m=>C(m,n.value-1,"prev"),disabled:P,"aria-label":r(e.previousAriaLabel),"aria-disabled":P},next:{icon:u.value?e.prevIcon:e.nextIcon,onClick:m=>C(m,n.value+1,"next"),disabled:w,"aria-label":r(e.nextAriaLabel),"aria-disabled":w},last:e.showFirstLastPage?{icon:u.value?e.firstIcon:e.lastIcon,onClick:m=>C(m,f.value+c.value-1,"last"),disabled:w,"aria-label":r(e.lastAriaLabel),"aria-disabled":w}:void 0}});function L(){const P=n.value-f.value;x.value[P]?.$el.focus()}function H(P){P.key===Le.left&&!e.disabled&&n.value>Number(e.start)?(n.value=n.value-1,Oe(L)):P.key===Le.right&&!e.disabled&&n.value<f.value+c.value-1&&(n.value=n.value+1,Oe(L))}return Y(()=>b(e.tag,{ref:y,class:Q(["v-pagination",s.value,e.class]),style:ge(e.style),role:"navigation","aria-label":r(e.ariaLabel),onKeydown:H,"data-test":"v-pagination-root"},{default:()=>[k("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&k("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(D.value.first):b(N,$({_as:"VPaginationBtn"},D.value.first),null)]),k("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(D.value.prev):b(N,$({_as:"VPaginationBtn"},D.value.prev),null)]),_.value.map((P,w)=>k("li",{key:P.key,class:Q(["v-pagination__item",{"v-pagination__item--is-active":P.isActive}]),"data-test":"v-pagination-item"},[a.item?a.item(P):b(N,$({_as:"VPaginationBtn"},P.props),{default:()=>[P.page]})])),k("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(D.value.next):b(N,$({_as:"VPaginationBtn"},D.value.next),null)]),e.showFirstLastPage&&k("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(D.value.last):b(N,$({_as:"VPaginationBtn"},D.value.last),null)])])]})),{}}}),ya=E({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),tt=Symbol.for("vuetify:data-table-pagination");function ha(e){const t=J(e,"page",void 0,l=>Number(l??1)),a=J(e,"itemsPerPage",void 0,l=>Number(l??10));return{page:t,itemsPerPage:a}}function pa(e){const{page:t,itemsPerPage:a,itemsLength:l}=e,n=F(()=>a.value===-1?0:a.value*(t.value-1)),r=F(()=>a.value===-1?l.value:Math.min(l.value,n.value+a.value)),o=F(()=>a.value===-1||l.value===0?1:Math.ceil(l.value/a.value));Ce([t,o],()=>{t.value>o.value&&(t.value=o.value)});function u(c){a.value=c,t.value=1}function s(){t.value=xe(t.value+1,1,o.value)}function i(){t.value=xe(t.value-1,1,o.value)}function d(c){t.value=xe(c,1,o.value)}const y={page:t,itemsPerPage:a,startIndex:n,stopIndex:r,pageCount:o,itemsLength:l,nextPage:s,prevPage:i,setPage:d,setItemsPerPage:u};return te(tt,y),y}function xa(){const e=ee(tt);if(!e)throw new Error("Missing pagination!");return e}function Sa(e){const t=Ye("usePaginatedItems"),{items:a,startIndex:l,stopIndex:n,itemsPerPage:r}=e,o=F(()=>r.value<=0?a.value:a.value.slice(l.value,n.value));return Ce(o,u=>{t.emit("update:currentItems",u)},{immediate:!0}),{paginatedItems:o}}const at=E({prevIcon:{type:R,default:"$prev"},nextIcon:{type:R,default:"$next"},firstIcon:{type:R,default:"$first"},lastIcon:{type:R,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ue=U()({name:"VDataTableFooter",props:at(),setup(e,t){let{slots:a}=t;const{t:l}=se(),{page:n,pageCount:r,startIndex:o,stopIndex:u,itemsLength:s,itemsPerPage:i,setItemsPerPage:d}=xa(),y=F(()=>e.itemsPerPageOptions.map(c=>typeof c=="number"?{value:c,title:c===-1?l("$vuetify.dataFooter.itemsPerPageAll"):String(c)}:{...c,title:isNaN(Number(c.title))?l(c.title):c.title}));return Y(()=>{const c=Ge.filterProps(e);return k("div",{class:"v-data-table-footer"},[a.prepend?.(),k("div",{class:"v-data-table-footer__items-per-page"},[k("span",{"aria-label":l(e.itemsPerPageText)},[l(e.itemsPerPageText)]),b(Be,{items:y.value,modelValue:i.value,"onUpdate:modelValue":f=>d(Number(f)),density:"compact",variant:"outlined",hideDetails:!0},null)]),k("div",{class:"v-data-table-footer__info"},[k("div",null,[l(e.pageText,s.value?o.value+1:0,u.value,s.value)])]),k("div",{class:"v-data-table-footer__pagination"},[b(Ge,$({modelValue:n.value,"onUpdate:modelValue":f=>n.value=f,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},c),null)])])}),{}}}),re=Rt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const l=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return b(l,{class:Q(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:M(e.height),width:M(e.width),maxWidth:M(e.maxWidth),left:n==="start"?M(e.fixedOffset||null):void 0,right:n==="end"?M(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?M(e.indent):void 0}},{default:()=>[a.default?.()]})}),ka=E({headers:Array},"DataTable-header"),lt=Symbol.for("vuetify:data-table-headers"),nt={title:"",sortable:!1},Pa={...nt,width:48};function wa(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,l)=>{let n=!1;for(let r=0;r<t.length;r++)if(t[r].priority>l){t.splice(r,0,{element:a,priority:l}),n=!0;break}n||t.push({element:a,priority:l})},size:()=>t.length,count:()=>{let a=0;if(!t.length)return 0;const l=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===l&&(a+=1);return a},dequeue:()=>t.shift()}}function Fe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const a of e.children)Fe(a,t);return t}function rt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&rt(a.children,t);return t}function Va(e){if(e.key){if(e.key==="data-table-group")return nt;if(["data-table-expand","data-table-select"].includes(e.key))return Pa}}function Ee(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(a=>Ee(a,t+1))):t}function Ia(e){let t=!1;function a(r,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(u!=="none"&&(r.fixed=u),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)a(r.children[s],o,o);else for(let s=0;s<r.children.length;s++)a(r.children[s],o,o);else!t&&o==="start"?r.lastFixed=!0:!t&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?Mt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),t=!0;else if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)a(r.children[s],o);else for(let s=0;s<r.children.length;s++)a(r.children[s],o);else t=!1}for(let r=e.length-1;r>=0;r--)a(e[r],"start");for(let r=0;r<e.length;r++)a(e[r],"end");let l=0;for(let r=0;r<e.length;r++)l=st(e[r],l);let n=0;for(let r=e.length-1;r>=0;r--)n=ot(e[r],n)}function st(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const a of e.children)t=st(a,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function ot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const a of e.children)t=ot(a,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Da(e,t){const a=[];let l=0;const n=wa(e);for(;n.size()>0;){let o=n.count();const u=[];let s=1;for(;o>0;){const{element:i,priority:d}=n.dequeue(),y=t-l-Ee(i);if(u.push({...i,rowspan:y??1,colspan:i.children?Fe(i).length:1}),i.children)for(const c of i.children){const f=d%1+s/Math.pow(10,l+2);n.enqueue(c,l+y+f)}s+=1,o-=1}l+=1,a.push(u)}return{columns:e.map(o=>Fe(o)).flat(),headers:a}}function it(e){const t=[];for(const a of e){const l={...Va(a),...a},n=l.key??(typeof l.value=="string"?l.value:null),r=l.value??n??null,o={...l,key:n,value:r,sortable:l.sortable??(l.key!=null||!!l.sort),children:l.children?it(l.children):void 0};t.push(o)}return t}function Fa(e,t){const a=B([]),l=B([]),n=B({}),r=B({}),o=B({});Ze(()=>{const i=(e.headers||Object.keys(e.items[0]??{}).map(h=>({key:h,title:Nt(h)}))).slice(),d=rt(i);t?.groupBy?.value.length&&!d.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!d.has("data-table-select")&&i.unshift({key:"data-table-select"}),t?.showExpand?.value&&!d.has("data-table-expand")&&i.push({key:"data-table-expand"});const y=it(i);Ia(y);const c=Math.max(...y.map(h=>Ee(h)))+1,f=Da(y,c);a.value=f.headers,l.value=f.columns;const V=f.headers.flat(1);for(const h of V)h.key&&(h.sortable&&(h.sort&&(n.value[h.key]=h.sort),h.sortRaw&&(r.value[h.key]=h.sortRaw)),h.filter&&(o.value[h.key]=h.filter))});const u={headers:a,columns:l,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return te(lt,u),u}function be(){const e=ee(lt);if(!e)throw new Error("Missing headers!");return e}const Ca={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:a}=e;return new Set(a?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},ut={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,currentPage:a,selected:l}=e;return ut.select({items:a,value:t,selected:l})}},dt={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,allItems:a,selected:l}=e;return dt.select({items:a,value:t,selected:l})}},Ta=E({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Je}},"DataTable-select"),ct=Symbol.for("vuetify:data-table-selection");function _a(e,t){let{allItems:a,currentPage:l}=t;const n=J(e,"modelValue",e.modelValue,x=>new Set(ne(x).map(I=>a.value.find(_=>e.valueComparator(I,_.value))?.value??I)),x=>[...x.values()]),r=F(()=>a.value.filter(x=>x.selectable)),o=F(()=>l.value.filter(x=>x.selectable)),u=F(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Ca;case"all":return dt;case"page":default:return ut}}),s=ce(null);function i(x){return ne(x).every(I=>n.value.has(I.value))}function d(x){return ne(x).some(I=>n.value.has(I.value))}function y(x,I){const _=u.value.select({items:x,value:I,selected:new Set(n.value)});n.value=_}function c(x,I,_){const D=[];if(I=I??l.value.findIndex(L=>L.value===x.value),e.selectStrategy!=="single"&&_?.shiftKey&&s.value!==null){const[L,H]=[s.value,I].sort((P,w)=>P-w);D.push(...l.value.slice(L,H+1).filter(P=>P.selectable))}else D.push(x),s.value=I;y(D,!i([x]))}function f(x){const I=u.value.selectAll({value:x,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=I}const V=F(()=>n.value.size>0),h=F(()=>{const x=u.value.allSelected({allItems:r.value,currentPage:o.value});return!!x.length&&i(x)}),g=A(()=>u.value.showSelectAll),C={toggleSelect:c,select:y,selectAll:f,isSelected:i,isSomeSelected:d,someSelected:V,allSelected:h,showSelectAll:g,lastSelectedIndex:s,selectStrategy:u};return te(ct,C),C}function ye(){const e=ee(ct);if(!e)throw new Error("Missing selection!");return e}const Ba=E({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),ft=Symbol.for("vuetify:data-table-sort");function Aa(e){const t=J(e,"sortBy"),a=A(()=>e.mustSort),l=A(()=>e.multiSort);return{sortBy:t,mustSort:a,multiSort:l}}function Ea(e){const{sortBy:t,mustSort:a,multiSort:l,page:n}=e,r=s=>{if(s.key==null)return;let i=t.value.map(y=>({...y}))??[];const d=i.find(y=>y.key===s.key);d?d.order==="desc"?a.value&&i.length===1?d.order="asc":i=i.filter(y=>y.key!==s.key):d.order="desc":l.value?i.push({key:s.key,order:"asc"}):i=[{key:s.key,order:"asc"}],t.value=i,n&&(n.value=1)};function o(s){return!!t.value.find(i=>i.key===s.key)}const u={sortBy:t,toggleSort:r,isSorted:o};return te(ft,u),u}function vt(){const e=ee(ft);if(!e)throw new Error("Missing sort!");return e}function La(e,t,a,l){const n=se();return{sortedItems:F(()=>a.value.length?Oa(t.value,a.value,n.current.value,{transform:l?.transform,sortFunctions:{...e.customKeySort,...l?.sortFunctions?.value},sortRawFunctions:l?.sortRawFunctions?.value}):t.value)}}function Oa(e,t,a,l){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,l?.transform?l.transform(o):o]).sort((o,u)=>{for(let s=0;s<t.length;s++){let i=!1;const d=t[s].key,y=t[s].order??"asc";if(y===!1)continue;let c=fe(o[1],d),f=fe(u[1],d),V=o[0].raw,h=u[0].raw;if(y==="desc"&&([c,f]=[f,c],[V,h]=[h,V]),l?.sortRawFunctions?.[d]){const g=l.sortRawFunctions[d](V,h);if(g==null)continue;if(i=!0,g)return g}if(l?.sortFunctions?.[d]){const g=l.sortFunctions[d](c,f);if(g==null)continue;if(i=!0,g)return g}if(!i&&(c instanceof Date&&f instanceof Date&&(c=c.getTime(),f=f.getTime()),[c,f]=[c,f].map(g=>g!=null?g.toString().toLocaleLowerCase():g),c!==f))return ie(c)&&ie(f)?0:ie(c)?-1:ie(f)?1:!isNaN(c)&&!isNaN(f)?Number(c)-Number(f):n.compare(c,f)}return 0}).map(o=>{let[u]=o;return u})}const mt=E({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:R,default:"$sortAsc"},sortDescIcon:{type:R,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Te(),...Yt()},"VDataTableHeaders"),Ke=U()({name:"VDataTableHeaders",props:mt(),setup(e,t){let{slots:a}=t;const{t:l}=se(),{toggleSort:n,sortBy:r,isSorted:o}=vt(),{someSelected:u,allSelected:s,selectAll:i,showSelectAll:d}=ye(),{columns:y,headers:c}=be(),{loaderClasses:f}=Qt(e);function V(w,m){if(!(e.sticky||e.fixedHeader)&&!w.fixed)return;const S=typeof w.fixed=="string"?w.fixed:w.fixed?"start":"none";return{position:"sticky",left:S==="start"?M(w.fixedOffset):void 0,right:S==="end"?M(w.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${m})`:void 0}}function h(w,m){w.key==="Enter"&&!e.disableSort&&n(m)}function g(w){const m=r.value.find(S=>S.key===w.key);return m?m.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:C,backgroundColorStyles:x}=aa(()=>e.color),{displayClasses:I,mobile:_}=me(e),D=F(()=>({headers:c.value,columns:y.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:u.value,allSelected:s.value,selectAll:i,getSortIcon:g})),L=F(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},I.value,f.value]),H=w=>{let{column:m,x:S,y:v}=w;const p=m.key==="data-table-select"||m.key==="data-table-expand",j=m.key==="data-table-group"&&m.width===0&&!m.title,he=$(e.headerProps??{},m.headerProps??{});return b(re,$({tag:"th",align:m.align,class:[{"v-data-table__th--sortable":m.sortable&&!e.disableSort,"v-data-table__th--sorted":o(m),"v-data-table__th--fixed":m.fixed},...L.value],style:{width:M(m.width),minWidth:M(m.minWidth),maxWidth:M(m.maxWidth),...V(m,v)},colspan:m.colspan,rowspan:m.rowspan,fixed:m.fixed,nowrap:m.nowrap,lastFixed:m.lastFixed,firstFixedEnd:m.firstFixedEnd,noPadding:p,empty:j,tabindex:m.sortable?0:void 0,onClick:m.sortable?()=>n(m):void 0,onKeydown:m.sortable?K=>h(K,m):void 0},he),{default:()=>{const K=`header.${m.key}`,q={column:m,selectAll:i,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:u.value,allSelected:s.value,getSortIcon:g};return a[K]?a[K](q):j?"":m.key==="data-table-select"?a["header.data-table-select"]?.(q)??(d.value&&b(Ae,{modelValue:s.value,indeterminate:u.value&&!s.value,"onUpdate:modelValue":i},null)):k("div",{class:"v-data-table-header__content"},[k("span",null,[m.title]),m.sortable&&!e.disableSort&&b(ve,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(m)},null),e.multiSort&&o(m)&&k("div",{key:"badge",class:Q(["v-data-table-header__sort-badge",...C.value]),style:ge(x.value)},[r.value.findIndex(pe=>pe.key===m.key)+1])])}})},P=()=>{const w=F(()=>y.value.filter(S=>S?.sortable&&!e.disableSort)),m=F(()=>{if(y.value.find(v=>v.key==="data-table-select")!=null)return s.value?"$checkboxOn":u.value?"$checkboxIndeterminate":"$checkboxOff"});return b(re,$({tag:"th",class:[...L.value],colspan:c.value.length+1},e.headerProps),{default:()=>[k("div",{class:"v-data-table-header__content"},[b(Be,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:l("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:m.value,"onClick:append":()=>i(!s.value)},{chip:S=>b(sa,{onClick:S.item.raw?.sortable?()=>n(S.item.raw):void 0,onMousedown:v=>{v.preventDefault(),v.stopPropagation()}},{default:()=>[S.item.title,b(ve,{class:Q(["v-data-table__td-sort-icon",o(S.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:g(S.item.raw),size:"small"},null)]})})])]})};Y(()=>_.value?k("tr",null,[b(P,null,null)]):k(X,null,[a.headers?a.headers(D.value):c.value.map((w,m)=>k("tr",null,[w.map((S,v)=>b(H,{column:S,x:v,y:m},null))])),e.loading&&k("tr",{class:"v-data-table-progress"},[k("th",{colspan:y.value.length},[b(Xt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),$a=E({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),gt=Symbol.for("vuetify:data-table-group");function Ra(e){return{groupBy:J(e,"groupBy")}}function Na(e){const{disableSort:t,groupBy:a,sortBy:l}=e,n=B(new Set),r=F(()=>a.value.map(d=>({...d,order:d.order??!1})).concat(t?.value?[]:l.value));function o(d){return n.value.has(d.id)}function u(d){const y=new Set(n.value);o(d)?y.delete(d.id):y.add(d.id),n.value=y}function s(d){function y(c){const f=[];for(const V of c.items)"type"in V&&V.type==="group"?f.push(...y(V)):f.push(V);return[...new Set(f)]}return y({items:d})}const i={sortByWithGroups:r,toggleGroup:u,opened:n,groupBy:a,extractRows:s,isGroupOpen:o};return te(gt,i),i}function bt(){const e=ee(gt);if(!e)throw new Error("Missing group!");return e}function Ma(e,t){if(!e.length)return[];const a=new Map;for(const l of e){const n=fe(l.raw,t);a.has(n)||a.set(n,[]),a.get(n).push(l)}return a}function yt(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=Ma(e,t[0]),r=[],o=t.slice(1);return n.forEach((u,s)=>{const i=t[0],d=`${l}_${i}_${s}`;r.push({depth:a,id:d,key:i,value:s,items:o.length?yt(u,o,a+1,d):u,type:"group"})}),r}function ht(e,t,a){const l=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&l.push(n),(t.has(n.id)||n.value==null)&&(l.push(...ht(n.items,t,a)),a&&l.push({...n,type:"group-summary"}))):l.push(n);return l}function Ha(e,t,a,l){return{flatItems:F(()=>{if(!t.value.length)return e.value;const r=yt(e.value,t.value.map(o=>o.key));return ht(r,a.value,Ht(l))})}}const pt=E({item:{type:Object,required:!0},groupCollapseIcon:{type:R,default:"$tableGroupCollapse"},groupExpandIcon:{type:R,default:"$tableGroupExpand"}},"VDataTableGroupHeaderRow"),ja=U()({name:"VDataTableGroupHeaderRow",props:pt(),setup(e,t){let{slots:a}=t;const{isGroupOpen:l,toggleGroup:n,extractRows:r}=bt(),{isSelected:o,isSomeSelected:u,select:s}=ye(),{columns:i}=be(),d=F(()=>r([e.item])),y=A(()=>i.value.length-(i.value.some(c=>c.key==="data-table-select")?1:0));return()=>k("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(c=>{if(c.key==="data-table-group"){const f=l(e.item)?e.groupCollapseIcon:e.groupExpandIcon,V=()=>n(e.item);return a["data-table-group"]?.({item:e.item,count:d.value.length,props:{icon:f,onClick:V}})??b(re,{class:"v-data-table-group-header-row__column",colspan:y.value},{default:()=>[b(N,{size:"small",variant:"text",icon:f,onClick:V},null),k("span",null,[e.item.value]),k("span",null,[O("("),d.value.length,O(")")])]})}else if(c.key==="data-table-select"){const f=o(d.value),V=u(d.value)&&!f,h=g=>s(d.value,g);return a["data-table-select"]?.({props:{modelValue:f,indeterminate:V,"onUpdate:modelValue":h}})??b(re,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[b(Ae,{modelValue:f,indeterminate:V,"onUpdate:modelValue":h},null)]})}return""})])}}),Ga=E({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),xt=Symbol.for("vuetify:datatable:expanded");function Ua(e){const t=A(()=>e.expandOnClick),a=J(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function l(u,s){const i=new Set(a.value);s?i.add(u.value):i.delete(u.value),a.value=i}function n(u){return a.value.has(u.value)}function r(u){l(u,!n(u))}const o={expand:l,expanded:a,expandOnClick:t,isExpanded:n,toggleExpand:r};return te(xt,o),o}function St(){const e=ee(xt);if(!e)throw new Error("foo");return e}const kt=E({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:R,default:"$collapse"},expandIcon:{type:R,default:"$expand"},onClick:Se(),onContextmenu:Se(),onDblclick:Se(),...Te()},"VDataTableRow"),Ka=U()({name:"VDataTableRow",props:kt(),setup(e,t){let{slots:a}=t;const{displayClasses:l,mobile:n}=me(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:u,allSelected:s,selectAll:i}=ye(),{isExpanded:d,toggleExpand:y}=St(),{toggleSort:c,sortBy:f,isSorted:V}=vt(),{columns:h}=be();Y(()=>k("tr",{class:Q(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},l.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&h.value.map((g,C)=>{const x=e.item,I=`item.${g.key}`,_=`header.${g.key}`,D={index:e.index,item:x.raw,internalItem:x,value:fe(x.columns,g.key),column:g,isSelected:r,toggleSelect:o,isExpanded:d,toggleExpand:y},L={column:g,selectAll:i,isSorted:V,toggleSort:c,sortBy:f.value,someSelected:u.value,allSelected:s.value,getSortIcon:()=>""},H=typeof e.cellProps=="function"?e.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value,column:g}):e.cellProps,P=typeof g.cellProps=="function"?g.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value}):g.cellProps,w=g.key==="data-table-select"||g.key==="data-table-expand",m=g.key==="data-table-group"&&g.width===0&&!g.title;return b(re,$({align:g.align,indent:g.intent,class:{"v-data-table__td--expanded-row":g.key==="data-table-expand","v-data-table__td--select-row":g.key==="data-table-select"},fixed:g.fixed,fixedOffset:g.fixedOffset,fixedEndOffset:g.fixedEndOffset,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,maxWidth:n.value?void 0:g.maxWidth,noPadding:w,empty:m,nowrap:g.nowrap,width:n.value?void 0:g.width},H,P),{default:()=>{if(g.key==="data-table-select")return a["item.data-table-select"]?.({...D,props:{disabled:!x.selectable,modelValue:r([x]),onClick:ue(()=>o(x),["stop"])}})??b(Ae,{disabled:!x.selectable,modelValue:r([x]),onClick:ue(v=>o(x,e.index,v),["stop"])},null);if(g.key==="data-table-expand")return a["item.data-table-expand"]?.({...D,props:{icon:d(x)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ue(()=>y(x),["stop"])}})??b(N,{icon:d(x)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ue(()=>y(x),["stop"])},null);if(a[I]&&!n.value)return a[I](D);const S=W(D.value);return n.value?k(X,null,[k("div",{class:"v-data-table__td-title"},[a[_]?.(L)??g.title]),k("div",{class:"v-data-table__td-value"},[a[I]?.(D)??S])]):S}})})]))}}),Pt=E({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...De(kt(),["collapseIcon","expandIcon"]),...De(pt(),["groupCollapseIcon","groupExpandIcon"]),...Te()},"VDataTableRows"),ze=U()({name:"VDataTableRows",inheritAttrs:!1,props:Pt(),setup(e,t){let{attrs:a,slots:l}=t;const{columns:n}=be(),{expandOnClick:r,toggleExpand:o,isExpanded:u}=St(),{isSelected:s,toggleSelect:i}=ye(),{toggleGroup:d,isGroupOpen:y}=bt(),{t:c}=se(),{mobile:f}=me(e);return Y(()=>{const V=De(e,["groupCollapseIcon","groupExpandIcon"]);return e.loading&&(!e.items.length||l.loading)?k("tr",{class:"v-data-table-rows-loading",key:"loading"},[k("td",{colspan:n.value.length},[l.loading?.()??c(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?k("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[k("td",{colspan:n.value.length},[l["no-data"]?.()??c(e.noDataText)])]):k(X,null,[e.items.map((h,g)=>{if(h.type==="group"){const I={index:g,item:h,columns:n.value,isExpanded:u,toggleExpand:o,isSelected:s,toggleSelect:i,toggleGroup:d,isGroupOpen:y};return l["group-header"]?l["group-header"](I):b(ja,$({key:`group-header_${h.id}`,item:h},je(a,":group-header",()=>I),V),l)}if(h.type==="group-summary"){const I={index:g,item:h,columns:n.value,toggleGroup:d};return l["group-summary"]?.(I)??""}const C={index:g,item:h.raw,internalItem:h,columns:n.value,isExpanded:u,toggleExpand:o,isSelected:s,toggleSelect:i},x={...C,props:$({key:`item_${h.key??h.index}`,onClick:r.value?()=>{o(h)}:void 0,index:g,item:h,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,mobile:f.value},je(a,":row",()=>C),typeof e.rowProps=="function"?e.rowProps({item:C.item,index:C.index,internalItem:C.internalItem}):e.rowProps)};return k(X,{key:x.props.key},[l.item?l.item(x):b(Ka,x.props,l),u(h)&&l["expanded-row"]?.(C)])})])}),{}}}),wt=E({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},..._e(),...qe(),...et(),...Xe()},"VTable"),We=U()({name:"VTable",props:wt(),setup(e,t){let{slots:a,emit:l}=t;const{themeClasses:n}=Qe(e),{densityClasses:r}=la(e);return Y(()=>{const o={VCheckboxBtn:{density:e.density}};return b(e.tag,{class:Q(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},n.value,r.value,e.class]),style:ge(e.style)},{default:()=>[a.top?.(),b(na,{defaults:o},{default:()=>[a.default?k("div",{class:"v-table__wrapper",style:{height:M(e.height)}},[k("table",null,[a.default()])]):a.wrapper?.()]}),a.bottom?.()]})}),{}}}),za=E({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Wa(e,t,a,l){const n=e.returnObject?t:le(t,e.itemValue),r=le(t,e.itemSelectable,!0),o=l.reduce((u,s)=>(s.key!=null&&(u[s.key]=le(t,s.value)),u),{});return{type:"item",key:e.returnObject?le(t,e.itemValue):n,index:a,value:n,selectable:r,columns:o,raw:t}}function Qa(e,t,a){return t.map((l,n)=>Wa(e,l,n,a))}function Xa(e,t){return{items:F(()=>Qa(e,e.items,t.value))}}function Ya(e){let{page:t,itemsPerPage:a,sortBy:l,groupBy:n,search:r}=e;const o=Ye("VDataTable"),u=()=>({page:t.value,itemsPerPage:a.value,sortBy:l.value,groupBy:n.value,search:r.value});let s=null;Ce(u,i=>{Je(s,i)||(s&&s.search!==i.search&&(t.value=1),o.emit("update:options",i),s=i)},{deep:!0,immediate:!0})}const Za=(e,t,a)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const l=[];let n=e.indexOf(t);for(;~n;)l.push([n,n+t.length]),n=e.indexOf(t,n+t.length);return l.length?l:-1};function Ve(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const Ja=E({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function qa(e,t,a){const l=[],n=a?.default??Za,r=a?.filterKeys?ne(a.filterKeys):!1,o=Object.keys(a?.customKeyFilter??{}).length;if(!e?.length)return l;let u=null;e:for(let s=0;s<e.length;s++){const[i,d=i]=ne(e[s]),y={},c={};let f=-1;if((t||o>0)&&!a?.noFilter){let V=!1;if(typeof i=="object"){if(i.type==="divider"||i.type==="subheader"){u?.type==="divider"&&i.type==="subheader"&&l.push(u),u={index:s,matches:{},type:i.type};continue}const C=r||Object.keys(d);V=C.length===o;for(const x of C){const I=le(d,x),_=a?.customKeyFilter?.[x];if(f=_?_(I,t,i):n(I,t,i),f!==-1&&f!==!1)_?y[x]=Ve(f,t):c[x]=Ve(f,t);else if(a?.filterMode==="every")continue e}}else f=n(i,t,i),f!==-1&&f!==!1&&(c.title=Ve(f,t));const h=Object.keys(c).length,g=Object.keys(y).length;if(!h&&!g||a?.filterMode==="union"&&g!==o&&!h||a?.filterMode==="intersection"&&(g!==o||!h&&o>0&&!V))continue}u&&(l.push(u),u=null),l.push({index:s,matches:{...c,...y}})}return l}function el(e,t,a,l){const n=ce([]),r=ce(new Map),o=F(()=>l?.transform?ae(t).map(s=>[s,l.transform(s)]):ae(t));Ze(()=>{const s=typeof a=="function"?a():ae(a),i=typeof s!="string"&&typeof s!="number"?"":String(s),d=qa(o.value,i,{customKeyFilter:{...e.customKeyFilter,...ae(l?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),y=ae(t),c=[],f=new Map;d.forEach(V=>{let{index:h,matches:g}=V;const C=y[h];c.push(C),f.set(C.value,g)}),n.value=c,r.value=f});function u(s){return r.value.get(s.value)}return{filteredItems:n,filteredMatches:r,getMatches:u}}const tl=E({...Pt(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Ga(),...$a(),...ka(),...za(),...Ta(),...Ba(),...mt(),...wt()},"DataTable"),al=E({...ya(),...tl(),...Ja(),...at()},"VDataTable"),ll=U()({name:"VDataTable",props:al(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:l}=t;const{groupBy:n}=Ra(e),{sortBy:r,multiSort:o,mustSort:u}=Aa(e),{page:s,itemsPerPage:i}=ha(e),{disableSort:d}=jt(e),{columns:y,headers:c,sortFunctions:f,sortRawFunctions:V,filterFunctions:h}=Fa(e,{groupBy:n,showSelect:A(()=>e.showSelect),showExpand:A(()=>e.showExpand)}),{items:g}=Xa(e,y),C=A(()=>e.search),{filteredItems:x}=el(e,g,C,{transform:z=>z.columns,customKeyFilter:h}),{toggleSort:I}=Ea({sortBy:r,multiSort:o,mustSort:u,page:s}),{sortByWithGroups:_,opened:D,extractRows:L,isGroupOpen:H,toggleGroup:P}=Na({groupBy:n,sortBy:r,disableSort:d}),{sortedItems:w}=La(e,x,_,{transform:z=>({...z.raw,...z.columns}),sortFunctions:f,sortRawFunctions:V}),{flatItems:m}=Ha(w,n,D,()=>!!l["group-summary"]),S=F(()=>m.value.length),{startIndex:v,stopIndex:p,pageCount:j,setItemsPerPage:he}=pa({page:s,itemsPerPage:i,itemsLength:S}),{paginatedItems:K}=Sa({items:m,startIndex:v,stopIndex:p,itemsPerPage:i}),q=F(()=>L(K.value)),{isSelected:pe,select:Vt,selectAll:It,toggleSelect:Dt,someSelected:Ft,allSelected:Ct}=_a(e,{allItems:g,currentPage:q}),{isExpanded:Tt,toggleExpand:_t}=Ua(e);Ya({page:s,itemsPerPage:i,sortBy:r,groupBy:n,search:C}),Ie({VDataTableRows:{hideNoData:A(()=>e.hideNoData),noDataText:A(()=>e.noDataText),loading:A(()=>e.loading),loadingText:A(()=>e.loadingText)}});const G=F(()=>({page:s.value,itemsPerPage:i.value,sortBy:r.value,pageCount:j.value,toggleSort:I,setItemsPerPage:he,someSelected:Ft.value,allSelected:Ct.value,isSelected:pe,select:Vt,selectAll:It,toggleSelect:Dt,isExpanded:Tt,toggleExpand:_t,isGroupOpen:H,toggleGroup:P,items:q.value.map(z=>z.raw),internalItems:q.value,groupedItems:K.value,columns:y.value,headers:c.value}));return Y(()=>{const z=Ue.filterProps(e),Bt=Ke.filterProps(e),At=ze.filterProps(e),Et=We.filterProps(e);return b(We,$({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Et,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>l.top?.(G.value),default:()=>l.default?l.default(G.value):k(X,null,[l.colgroup?.(G.value),!e.hideDefaultHeader&&k("thead",{key:"thead"},[b(Ke,Bt,l)]),l.thead?.(G.value),!e.hideDefaultBody&&k("tbody",null,[l["body.prepend"]?.(G.value),l.body?l.body(G.value):b(ze,$(a,At,{items:K.value}),l),l["body.append"]?.(G.value)]),l.tbody?.(G.value),l.tfoot?.(G.value)]),bottom:()=>l.bottom?l.bottom(G.value):!e.hideDefaultFooter&&k(X,null,[b(oa,null,null),b(Ue,z,{prepend:l["footer.prepend"]})])})}),{}}}),nl=E({..._e(),...da()},"VForm"),rl=U()({name:"VForm",props:nl(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:l}=t;const n=ua(e),r=B();function o(s){s.preventDefault(),n.reset()}function u(s){const i=s,d=n.validate();i.then=d.then.bind(d),i.catch=d.catch.bind(d),i.finally=d.finally.bind(d),l("submit",i),i.defaultPrevented||d.then(y=>{let{valid:c}=y;c&&r.value?.submit()}),i.preventDefault()}return Y(()=>k("form",{ref:r,class:Q(["v-form",e.class]),style:ge(e.style),novalidate:!0,onReset:o,onSubmit:u},[a.default?.(n)])),ca(n,r)}}),sl={key:0,class:"text-red-500"},ol={class:"d-flex ga-4 justify-space-between align-center w-100"},il={class:"d-flex ga-4 align-center"},ul="[error 409] 系所簡稱必須為唯一值，已有相同的系所簡稱。",dl={__name:"DataTableCRUD",props:{title:String,tableTitle:String,headers:Array,apiUrl:String,apiEndpoints:Object,formFields:Array,itemSingular:String},emits:["field-updated","on-edit"],setup(e,{expose:t,emit:a}){const l=a,n=B(!1),r=e,o=B([]),u=B(""),s=B(null),i=B(!1),d=B({}),y=B(""),c=B(null),f=B(!1),V=B(""),h=B(null);t({editedItem:d});const g=F(()=>y.value==="add"?`新增${r.itemSingular}`:`編輯${r.itemSingular}`),C=F(()=>{if(!u.value)return o.value;const S=u.value.toLowerCase();return o.value.filter(v=>Object.values(v).some(p=>String(p).toLowerCase().includes(S)))}),{$curridataAPI:x}=Ut(),I=async()=>{try{const S=await x.get(r.apiUrl+r.apiEndpoints.get);o.value=S.data}catch(S){console.error(S),s.value="無法從 API 取得資料。"}},_=(S,v={})=>{y.value=S,d.value={...v},S==="edit"&&l("on-edit",d.value),i.value=!0},D=()=>{i.value=!1,d.value={},c.value&&c.value.resetValidation()},L=(S,v)=>{l("field-updated",{key:S,value:v})},H=async()=>{const{valid:S}=await c.value.validate();if(!S)return;const v={...d.value};for(const p of r.formFields)p.type==="select"&&p["return-object"]&&v[p.key]&&typeof v[p.key]=="object"&&(v[p.key]=v[p.key][p["item-title"]||"NAME"]);console.log("itemToSave",v);try{if(y.value==="add")console.log("create by itemToSave",v),await x.post(r.apiUrl+r.apiEndpoints.add,v);else{const p=r.apiEndpoints.update.replace("{id}",v.ID);await x.put(r.apiUrl+p,v)}D(),await I()}catch(p){console.error(p),console.log(p.message),console.log(p.response.data.detail),n.value=!0,s.value=p.response?.data?.detail||"儲存資料失敗。"}},P=S=>{h.value=S,V.value=`確定要刪除${r.itemSingular} ${S[r.headers[1].value]} 嗎？`,f.value=!0},w=async()=>{const S=h.value;if(!S||!S.ID){s.value=`刪除失敗：無效的${r.itemSingular} ID。`,console.error("嘗試刪除一個沒有 ID 的項目。"),f.value=!1;return}try{const v=r.apiEndpoints.delete.replace("{id}",S.ID);await x.delete(r.apiUrl+v),await I(),f.value=!1}catch(v){console.error(v),s.value=v.response?.data?.detail||"刪除資料失敗。",f.value=!1}},m=()=>{f.value=!1,h.value=null};return Kt(()=>{I()}),(S,v)=>(Z(),ke(X,null,[k("div",null,[k("h2",null,W(e.title),1),s.value?(Z(),ke("div",sl,[k("p",null,W(s.value),1)])):(Z(),de(we,{key:1,class:"mt-4"},{default:T(()=>[b(Pe,null,{default:T(()=>[k("div",ol,[k("span",null,W(e.tableTitle),1),k("div",il,[b(N,{color:"primary","prepend-icon":"mdi-plus-circle",onClick:v[0]||(v[0]=p=>_("add")),height:"40"},{default:T(()=>[O(" 新增"+W(e.itemSingular),1)]),_:1}),b($e,{modelValue:u.value,"onUpdate:modelValue":v[1]||(v[1]=p=>u.value=p),label:"輸入關鍵字查詢","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"search-field"},null,8,["modelValue"])])])]),_:1}),b(ll,{headers:e.headers,items:C.value,class:"elevation-10"},{"item.actions":T(({item:p})=>[b(ve,{class:"me-2",size:"small",onClick:j=>_("edit",p)},{default:T(()=>[...v[6]||(v[6]=[O(" mdi-pencil ",-1)])]),_:1},8,["onClick"]),b(ve,{size:"small",onClick:j=>P(p)},{default:T(()=>[...v[7]||(v[7]=[O(" mdi-delete ",-1)])]),_:1},8,["onClick"])]),_:1},8,["headers","items"])]),_:1})),b(He,{modelValue:i.value,"onUpdate:modelValue":v[2]||(v[2]=p=>i.value=p),"max-width":"600px"},{default:T(()=>[b(we,null,{default:T(()=>[b(Pe,null,{default:T(()=>[O(W(g.value),1)]),_:1}),b(Re,null,{default:T(()=>[b(ia,null,{default:T(()=>[b(rl,{ref_key:"form",ref:c},{default:T(()=>[b(fa,null,{default:T(()=>[(Z(!0),ke(X,null,zt(e.formFields,p=>(Z(),de(va,{key:p.key,cols:"12",sm:"6"},{default:T(()=>[p.type==="text"?(Z(),de($e,{key:0,modelValue:d.value[p.key],"onUpdate:modelValue":j=>d.value[p.key]=j,label:p.label,rules:p.rules,readonly:p.readonly},null,8,["modelValue","onUpdate:modelValue","label","rules","readonly"])):p.type==="select"?(Z(),de(Be,{key:1,modelValue:d.value[p.key],"onUpdate:modelValue":[j=>d.value[p.key]=j,j=>L(p.key,d.value[p.key])],items:p.items,"item-title":p["item-title"],"item-value":p["item-value"],label:p.label,rules:p.rules,"return-object":p["return-object"]},null,8,["modelValue","onUpdate:modelValue","items","item-title","item-value","label","rules","return-object"])):Wt("",!0)]),_:2},1024))),128))]),_:1})]),_:1},512)]),_:1})]),_:1}),b(Ne,null,{default:T(()=>[b(Me),b(N,{color:"blue-darken-1",variant:"text",onClick:D},{default:T(()=>[...v[8]||(v[8]=[O("取消",-1)])]),_:1}),b(N,{color:"blue-darken-1",variant:"text",onClick:H},{default:T(()=>[...v[9]||(v[9]=[O("儲存",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),b(He,{modelValue:f.value,"onUpdate:modelValue":v[3]||(v[3]=p=>f.value=p),"max-width":"400"},{default:T(()=>[b(we,null,{default:T(()=>[b(Pe,{class:"headline"},{default:T(()=>[...v[10]||(v[10]=[O("確認",-1)])]),_:1}),b(Re,null,{default:T(()=>[O(W(V.value),1)]),_:1}),b(Ne,null,{default:T(()=>[b(Me),b(N,{color:"blue-darken-1",variant:"text",onClick:m},{default:T(()=>[...v[11]||(v[11]=[O("取消",-1)])]),_:1}),b(N,{color:"blue-darken-1",variant:"text",onClick:w},{default:T(()=>[...v[12]||(v[12]=[O("確定",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),b(ma,{modelValue:n.value,"onUpdate:modelValue":v[5]||(v[5]=p=>n.value=p),timeout:2e3,color:"deep-orange-darken-1",location:"top center"},{actions:T(()=>[b(N,{color:"pink",variant:"text",onClick:v[4]||(v[4]=p=>n.value=!1)},{default:T(()=>[...v[13]||(v[13]=[O(" Close ",-1)])]),_:1})]),default:T(()=>[O(W(ul)+" ")]),_:1},8,["modelValue"])],64))}},Il=Gt(dl,[["__scopeId","data-v-0213932e"]]);export{Il as D};
